!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequirecbf3;r.register("bbNx4",(function(o,n){t(o.exports,"default",(function(){return y}));var a=r("jgze0"),s=r("2dJHr"),i=r("61szk"),l=r("fQVBh"),c=r("7RIig"),u=r("9QeOc"),d=r("hAjl6"),p=r("92fQs"),f=r("clBu2"),g=r("fTqXw"),h=r("8SO2B"),m=r("E5bKy"),b=r("fxF3m");class y extends e(i).Component{renderDescription(){const{repository:t,repositoryAccessLevel:r}=this.props;if(!t)return null;if(t.description)return e(i).createElement(b.RepositoryDescription,null,t.description);if(!r||"admin"!==r)return null;const[o,n]=t.full_name.split("/");return e(i).createElement(b.RepositoryDescription,null,e(i).createElement(c.FormattedMessage,e(a)({},m.default.repositoryDescriptionPlaceholder,{values:{addRepositoryDescriptionLink:e(i).createElement("a",{href:f.default.ui.admin(o,n)},e(i).createElement(c.FormattedMessage,m.default.addRepositoryDescriptionLink))}})))}renderTitle(){const{path:t}=this.props;if(t&&t.length){const r=`/${t}`.replace(/\//g," / ");return e(i).createElement(l.default,{defer:!1,title:r})}return null}render(){const{header:t,path:r,pathType:o,repository:n,repositoryAccessLevel:a,userUuid:l,isUpToSmallBreakpointActive:c}=this.props;return e(i).createElement(b.Page,null,this.renderTitle(),e(i).createElement(g.default,{path:r,pathType:o}),e(i).createElement(s.Grid,{layout:"fluid",spacing:c?"cosy":"comfortable"},e(i).createElement(s.GridColumn,null,!r&&e(i).createElement(d.default,null),n&&n.size&&e(i).createElement(p.default,{size:n.size,repositoryAccessLevel:a,userUuid:l,repositoryUuid:n.uuid}),this.renderDescription(),t&&e(i).createElement(i.Fragment,null,e(i).createElement(b.SelectorsHeader,null,t)),this.props.children)),e(i).createElement(u.default,null,e(i).createElement(h.default,{path:this.props.path})))}}})),r.register("hAjl6",(function(o,n){t(o.exports,"default",(function(){return d}));var a=r("61szk"),s=r("6tbO4"),i=r("69smv"),l=r("hTK5T"),c=r("h0e5S");class u extends a.PureComponent{render(){const{principalId:t,repository:r}=this.props;if(!t||!r)return null;const[o,n]=r.full_name.split("/");return e(a).createElement(c.SourceViewWebpanels,{principalId:t,repositoryOwner:o,repositorySlug:n})}}var d=s.connect((e=>({principalId:l.getTargetUserKey(e),repository:i.getCurrentRepository(e)})))(u)})),r.register("h0e5S",(function(o,n){t(o.exports,"SourceViewWebpanels",(function(){return p}));var a=r("jgze0"),s=r("61szk"),i=r("7e0vh"),l=r("8CuNm"),c=r("22xei"),u=r("h7WiY"),d=r("4QrWa");class p extends s.PureComponent{render(){const{principalId:t,repositoryOwner:r,repositorySlug:o}=this.props,n=l.repositoryTarget({repositoryOwner:r,repositorySlug:o});return e(s).createElement(e(s).Fragment,null,e(s).createElement(i.ConnectIframes,{moduleType:"webPanels",principalId:t,target:n,location:"org.bitbucket.repository.overview.informationPanel",height:`${d.webPanelHeight}`,width:`${d.webPanelWidth}`,options:{autoresize:!0},loadingComponent:()=>null,loadingFailedComponent:()=>null},(t=>t.length>0&&e(s).createElement(s.Fragment,null,t.map((({Component:t,module:r})=>e(s).createElement(d.SourceWebPanel,{key:r.id,"data-qa":"connect-sourceview-webpanel"},e(s).createElement(t,{loadingComponent:()=>e(s).createElement(u.default,{module:r,delay:c.LOADING_MODULE_DELAY}),loadingTimeoutComponent:t=>e(s).createElement(u.default,e(a)({action:"timeout"},t,{module:r})),loadingFailedComponent:()=>e(s).createElement(u.default,{action:"failed",module:r})}))))))),e(s).createElement(i.ConnectModules,{principalId:t,moduleType:"generalPages",target:n}))}}})),r.register("92fQs",(function(o,n){t(o.exports,"default",(function(){return m}));var a=r("jgze0"),s=r("61szk"),i=r("6tbO4"),l=r("7RIig"),c=r("7NpdE"),u=r("loPHy"),d=r("k8zc2"),p=r("3GKKo"),f=r("69smv"),g=r("clBu2"),h=r("kFs6y");var m=({size:t=0,repositoryAccessLevel:r,userUuid:o,repositoryUuid:n})=>{const m=`large-message-dismissed::${o}::${n}`,[b,y]=s.useState(!d.default.get(m)),k=p.useIntl(),v=i.useSelector(f.getSizeLimits),C=e(c)(v.soft,{unitSeparator:" "}),E=e(c)(v.hard,{unitSeparator:" "});return t>=v.hard?e(s).createElement(u.default,{appearance:"error",title:k.formatMessage(h.default.hardLimitHeadingLarge),actions:[{key:"more",text:e(s).createElement("a",{href:g.default.external.reduceRepositorySize,target:"_blank"},e(s).createElement(l.FormattedMessage,h.default.softLimitLearnMoreLink))}]},"admin"===r?e(s).createElement(l.FormattedMessage,e(a)({},h.default.hardLimitDescriptionAdmin,{values:{hardLimit:E}})):e(s).createElement(l.FormattedMessage,e(a)({},h.default.hardLimitDescription,{values:{hardLimit:E}}))):t>=v.soft&&"admin"===r&&b?e(s).createElement(u.default,{appearance:"warning",title:k.formatMessage(h.default.softLimitHeading),actions:[{key:"more",text:e(s).createElement("a",{href:g.default.external.reduceRepositorySize,target:"_blank"},e(s).createElement(l.FormattedMessage,h.default.softLimitLearnMoreLink))},{key:"dismiss",text:e(s).createElement(l.FormattedMessage,h.default.dismiss),onClick:()=>{y(!1),d.default.set(m,!0)}}]},e(s).createElement(l.FormattedMessage,e(a)({},h.default.softLimitDescriptionAdmin,{values:{softLimit:C,hardLimit:E}}))):null}})),r.register("fTqXw",(function(e,o){t(e.exports,"default",(function(){return u}));var n=r("6tbO4"),a=r("iOvKa"),s=r("gFE2z"),i=r("69smv"),l=r("hTK5T"),c=r("bzsxF");var u=a.withRouter(n.connect((e=>{const{atRef:t,hash:r,ref:o}=e.repository.source.section,n=i.getCurrentRepository(e);return{currentRef:t||o,hash:r,isBannerOpen:Boolean(s.getSiteMessageBanner(e)),repository:n,repositoryAccessLevel:e.repository.details.accessLevel,showInvite:!!e.global.features["exp-share-to-invite-variation"],userIsAnonymous:l.getCurrentUserIsAnonymous(e),forkPolicy:null==n?void 0:n.fork_policy}}))(c.default))})),r.register("bzsxF",(function(o,n){t(o.exports,"default",(function(){return O}));var a=r("cJOGA"),s=r("7HEfz"),i=r("jiqGt"),l=r("ePZvc"),c=r("dwsiA"),u=r("35ixb"),d=r("61szk"),p=r("7RIig"),f=r("gzbOn"),g=r("lWF4r"),h=r("cobii"),m=r("gbHYj"),b=r("764NQ"),y=r("b0S7m"),k=r("gZ4Uf");r("iilGA");var v=r("4P5lF"),C=r("5z5yM"),E=r("clBu2"),x=r("eIict"),S=r("6pl22"),M=r("lD1Dt"),w=r("6KQMh"),D=r("dX0it"),R=r("gXYc3"),F=r("9OndI");class L extends e(d).Component{renderActions(){const{currentRef:t,hash:r,intl:o,path:n,pathType:a,repository:c,forkPolicy:u,repositoryAccessLevel:f,showInvite:g,userIsAnonymous:h,features:{showSetUpPipelinesButton:m}}=this.props;if(!c||!r)return;const[y,x]=c.full_name.split("/"),M=()=>e(d).createElement("div",{style:{textAlign:"left"}},e(d).createElement(i.default,{"aria-label":o.formatMessage(F.default.actionsMenu),position:"bottom right",triggerType:"button",testId:"repo-actions-menu",triggerButtonProps:{iconBefore:e(d).createElement(e(l),{label:o.formatMessage(F.default.actionsMenu),size:"medium"})}},e(d).createElement(S.default,{requiredLevel:"read"},("allow_forks"===u||"no_public_forks"===u)&&e(d).createElement(i.DropdownItem,{"data-testid":"repo-menu-create-fork",href:E.default.ui.fork(y,x)},e(d).createElement(p.FormattedMessage,F.default.forkRepoAction)),e(d).createElement(i.DropdownItem,{href:E.default.ui.compare(y,x)},e(d).createElement(p.FormattedMessage,F.default.compareRepoAction))),e(d).createElement(S.default,{requiredLevel:"write"},e(d).createElement(i.DropdownItem,{href:C.default.ui.createFile(c.full_name,{refOrHash:r,path:this.getCreateFilePath(n,a),at:t?t.name:void 0}),onClick:()=>{this.publishHeaderAnalyticEvent("new_file",b.uncurlyUuid(c.uuid))}},e(d).createElement(p.FormattedMessage,F.default.newFileAction))),e(d).createElement(i.DropdownItem,{onClick:()=>{k.publishUiEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"sourceHeaderDropdownItem",source:"repositorySourceScreen",attributes:{item:"manageNotifications"}}),this.onOpenSubscriptionsDialog()}},e(d).createElement(p.FormattedMessage,F.default.manageNotifications)),e(d).createElement(i.DropdownItem,{onClick:()=>this.onDownloadRepoAction(c)},e(d).createElement(p.FormattedMessage,F.default.downloadRepoAction)),"admin"===f&&!g&&e(d).createElement(i.DropdownItem,{onClick:()=>this.shareRepo("share")},e(d).createElement(p.FormattedMessage,F.default.shareAction))));return e(d).createElement(s.ButtonGroup,null,n&&"file"===a&&e(d).createElement(v.default,null),"admin"===f&&g&&e(d).createElement(s.default,{onClick:()=>this.shareRepo("invite")},e(d).createElement(p.FormattedMessage,F.default.inviteAction)),!n&&m?e(d).createElement(R.default,{pipelinesUrl:C.default.ui.pipelines(c.full_name)}):null,n?e(d).createElement(w.default,{onClick:()=>{this.publishHeaderAnalyticEvent("checkout",b.uncurlyUuid(c.uuid))}}):e(d).createElement(D.default,null),!h&&e(d).createElement(M,null))}render(){const{isDownloadRepoModalOpen:t}=this.state,{path:r,repository:o,userIsAnonymous:n,location:s}=this.props,i=e(a).parse(s.search,{ignoreQueryPrefix:!0}),l=r&&r.split("/").pop()||o&&o.name||e(d).createElement(p.FormattedMessage,F.default.heading);return e(d).createElement(g.PageHeaderWrapper,{layout:"fluid","data-qa":"page-header-wrapper"},e(d).createElement(g.PageHeaderColumn,null,e(d).createElement(c.default,{actions:this.renderActions(),breadcrumbs:e(d).createElement(M.default,{isRoot:!r})},e(d).createElement(m.default,{isOpen:t,onClose:this.closeDownloadRepoModal,onDownload:()=>{this.downloadRepo(),this.closeDownloadRepoModal()}}),e(d).createElement(u.ModalTransition,null,!n&&i.subscriptionsModalOpened&&e(d).createElement(h.default,{onCloseSubscriptionsDialog:this.onCloseSubscriptionsDialog})),l)))}constructor(...e){super(...e),this.state={isDownloadRepoModalOpen:!1},this.onOpenSubscriptionsDialog=()=>{const{pathname:e}=this.props.location;this.props.history.push(`${e}?subscriptionsModalOpened=true`)},this.onCloseSubscriptionsDialog=()=>{const{pathname:e}=this.props.location;this.props.history.push(e)},this.closeDownloadRepoModal=()=>{this.setState({isDownloadRepoModalOpen:!1})},this.openDownloadRepoModal=()=>{this.setState({isDownloadRepoModalOpen:!0})},this.publishHeaderAnalyticEvent=(e,t)=>{k.publishFact(new y.SourceHeaderActionClickedFact({label:e,repository_uuid:t,frontbucket_view:!0}))},this.getCreateFilePath=(e,t)=>e?"directory"===t?e&&`${e}/`:e&&e.substr(0,e.lastIndexOf("/")+1):null,this.shareRepo=e=>{const{repository:t}=this.props;t&&(this.publishHeaderAnalyticEvent(e,b.uncurlyUuid(t.uuid)),window.location.href=C.default.ui.permissions(t.full_name))},this.onDownloadRepoAction=async e=>{k.publishUiEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"sourceHeaderDropdownItem",source:"repositorySourceScreen",attributes:{item:"downloadRepository"}});try{const t=await fetch(x.default(C.default.api.internal.repositoryMetadataURL(e.full_name))),{has_lfs_files:r}=await t.json();r?this.openDownloadRepoModal():this.downloadRepo()}catch(e){this.downloadRepo()}},this.downloadRepo=()=>{const{repository:e,currentRef:t}=this.props;if(!e||!t)return"";window.location.href=C.default.api.v20.downloadRepo(e.full_name,t.name)}}}var O=f.withFeature(f.FeatureKeys.showSetUpPipelinesButton,!1)(p.injectIntl(L))})),r.register("dwsiA",(function(o,n){t(o.exports,"default",(function(){return i}));var a=r("61szk"),s=r("bHtUD"),i=function(t){var r=t.innerRef,o=t.breadcrumbs,n=t.actions,i=t.bottomBar,l=t.children,c=t.disableTitleStyles,u=void 0!==c&&c,d=t.truncateTitle,p=void 0!==d&&d;return e(a).createElement(s.Outer,null,o,e(a).createElement(s.TitleWrapper,{truncate:p},e(a).createElement(s.TitleContainer,{truncate:p},u?l:e(a).createElement(s.StyledTitle,{innerRef:r,tabIndex:-1,truncate:p},l)),n&&e(a).createElement(s.ActionsWrapper,null,n)),i&&e(a).createElement(s.BottomBarWrapper,null," ",i," "))}})),r.register("bHtUD",(function(o,n){t(o.exports,"Outer",(function(){return h})),t(o.exports,"StyledTitle",(function(){return m})),t(o.exports,"TitleWrapper",(function(){return b})),t(o.exports,"TitleContainer",(function(){return y})),t(o.exports,"ActionsWrapper",(function(){return k})),t(o.exports,"BottomBarWrapper",(function(){return v}));var a=r("lhkMJ"),s=r("SssiD"),i=r("eC2UO"),l=r("hCpTL");function c(){var t=e(a)(["\n  margin-top: ","px;\n"]);return c=function(){return t},t}function u(){var t=e(a)(["\n  flex: 0 0 auto;\n  margin-bottom: ","px;\n  margin-left: auto;\n  max-width: 100%;\n  padding-left: ","px;\n  white-space: nowrap;\n\n  > {\n    text-align: right;\n  }\n"]);return u=function(){return t},t}function d(){var t=e(a)(["\n  flex: 1 0 auto;\n  ","\n  margin-bottom: ","px;\n  max-width: 100%;\n  min-width: 0;\n"]);return d=function(){return t},t}function p(){var t=e(a)(["\n  align-items: flex-start;\n  display: flex;\n  ","\n"]);return p=function(){return t},t}function f(){var t=e(a)(["\n  ",";\n  "," line-height: ","px;\n  margin-top: 0;\n  outline: none;\n"]);return f=function(){return t},t}function g(){var t=e(a)(["\n  margin: ","px 0 ","px 0;\n"]);return g=function(){return t},t}var h=s.default.div(g(),3*i.gridSize(),2*i.gridSize()),m=s.default.h1(f(),l.h700(),(function(e){return e.truncate?"\n        overflow-x: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      ":null}),4*i.gridSize()),b=s.default.div(p(),(function(e){return e.truncate?"flex-wrap: no-wrap;":"flex-wrap: wrap;"})),y=s.default.div(d(),(function(e){return e.truncate?"flex-shrink: 1;":null}),i.gridSize()),k=s.default.div(u(),i.gridSize(),4*i.gridSize()),v=s.default.div(c(),2*i.gridSize())})),r.register("eC2UO",(function(e,o){t(e.exports,"gridSize",(function(){return n})),t(e.exports,"fontSize",(function(){return a}));r("4oNw1"),r("jT2UY");var n=function(){return 8},a=function(){return 14}})),r.register("4oNw1",(function(e,o){t(e.exports,"default",(function(){return a}));var n=r("8ec6x");var a=function(e,t){var r=n.default[e];return t?"var(".concat(r,", ").concat(t,")"):"var(".concat(r,")")}})),r.register("8ec6x",(function(e,r){t(e.exports,"default",(function(){return o}));var o={"color.accent.boldBlue":"--accent-boldBlue","color.accent.boldGreen":"--accent-boldGreen","color.accent.boldOrange":"--accent-boldOrange","color.accent.boldPurple":"--accent-boldPurple","color.accent.boldRed":"--accent-boldRed","color.accent.boldTeal":"--accent-boldTeal","color.accent.subtleBlue":"--accent-subtleBlue","color.accent.subtleGreen":"--accent-subtleGreen","color.accent.subtleMagenta":"--accent-subtleMagenta","color.accent.subtleOrange":"--accent-subtleOrange","color.accent.subtlePurple":"--accent-subtlePurple","color.accent.subtleRed":"--accent-subtleRed","color.accent.subtleTeal":"--accent-subtleTeal","color.background.sunken":"--background-sunken","color.background.default":"--background-default","color.background.card":"--background-card","color.background.overlay":"--background-overlay","color.background.selected.resting":"--background-selected-resting","color.background.selected.hover":"--background-selected-hover","color.background.selected.pressed":"--background-selected-pressed","color.background.blanket":"--background-blanket","color.background.disabled":"--background-disabled","color.background.boldBrand.resting":"--background-boldBrand-resting","color.background.boldBrand.hover":"--background-boldBrand-hover","color.background.boldBrand.pressed":"--background-boldBrand-pressed","color.background.subtleBrand.resting":"--background-subtleBrand-resting","color.background.subtleBrand.hover":"--background-subtleBrand-hover","color.background.subtleBrand.pressed":"--background-subtleBrand-pressed","color.background.boldDanger.resting":"--background-boldDanger-resting","color.background.boldDanger.hover":"--background-boldDanger-hover","color.background.boldDanger.pressed":"--background-boldDanger-pressed","color.background.subtleDanger.resting":"--background-subtleDanger-resting","color.background.subtleDanger.hover":"--background-subtleDanger-hover","color.background.subtleDanger.pressed":"--background-subtleDanger-pressed","color.background.boldWarning.resting":"--background-boldWarning-resting","color.background.boldWarning.hover":"--background-boldWarning-hover","color.background.boldWarning.pressed":"--background-boldWarning-pressed","color.background.subtleWarning.resting":"--background-subtleWarning-resting","color.background.subtleWarning.hover":"--background-subtleWarning-hover","color.background.subtleWarning.pressed":"--background-subtleWarning-pressed","color.background.boldSuccess.resting":"--background-boldSuccess-resting","color.background.boldSuccess.hover":"--background-boldSuccess-hover","color.background.boldSuccess.pressed":"--background-boldSuccess-pressed","color.background.subtleSuccess.resting":"--background-subtleSuccess-resting","color.background.subtleSuccess.hover":"--background-subtleSuccess-hover","color.background.subtleSuccess.pressed":"--background-subtleSuccess-pressed","color.background.boldDiscovery.resting":"--background-boldDiscovery-resting","color.background.boldDiscovery.hover":"--background-boldDiscovery-hover","color.background.boldDiscovery.pressed":"--background-boldDiscovery-pressed","color.background.subtleDiscovery.resting":"--background-subtleDiscovery-resting","color.background.subtleDiscovery.hover":"--background-subtleDiscovery-hover","color.background.subtleDiscovery.pressed":"--background-subtleDiscovery-pressed","color.background.boldNeutral.resting":"--background-boldNeutral-resting","color.background.boldNeutral.hover":"--background-boldNeutral-hover","color.background.boldNeutral.pressed":"--background-boldNeutral-pressed","color.background.transparentNeutral.hover":"--background-transparentNeutral-hover","color.background.transparentNeutral.pressed":"--background-transparentNeutral-pressed","color.background.subtleNeutral.resting":"--background-subtleNeutral-resting","color.background.subtleNeutral.hover":"--background-subtleNeutral-hover","color.background.subtleNeutral.pressed":"--background-subtleNeutral-pressed","color.background.subtleBorderedNeutral.resting":"--background-subtleBorderedNeutral-resting","color.background.subtleBorderedNeutral.pressed":"--background-subtleBorderedNeutral-pressed","color.border.focus":"--border-focus","color.border.neutral":"--border-neutral","color.iconBorder.brand":"--iconBorder-brand","color.iconBorder.danger":"--iconBorder-danger","color.iconBorder.warning":"--iconBorder-warning","color.iconBorder.success":"--iconBorder-success","color.iconBorder.discovery":"--iconBorder-discovery","color.overlay.hover":"--overlay-hover","color.overlay.pressed":"--overlay-pressed","color.text.selected":"--text-selected","color.text.highEmphasis":"--text-highEmphasis","color.text.mediumEmphasis":"--text-mediumEmphasis","color.text.lowEmphasis":"--text-lowEmphasis","color.text.onBold":"--text-onBold","color.text.onBoldWarning":"--text-onBoldWarning","color.text.link.resting":"--text-link-resting","color.text.link.pressed":"--text-link-pressed","color.text.brand":"--text-brand","color.text.warning":"--text-warning","color.text.danger":"--text-danger","color.text.success":"--text-success","color.text.discovery":"--text-discovery","color.text.disabled":"--text-disabled","shadow.card":"--card","shadow.overlay":"--overlay","utility.UNSAFE_util.transparent":"--UNSAFE_util-transparent"}})),r.register("jT2UY",(function(e,o){t(e.exports,"B100",(function(){return l})),t(e.exports,"N30A",(function(){return g})),t(e.exports,"heading",(function(){return y})),t(e.exports,"subtleHeading",(function(){return k})),t(e.exports,"skeleton",(function(){return v}));var n=r("hlhp6"),a="#FF5630",s="#FFAB00",i="#36B37E",l="#4C9AFF",c="#2684FF",u="#0052CC",d="#FFFFFF",p="#6B778C",f="#172B4D",g="rgba(9, 30, 66, 0.08)",h="#B8C7E0",m="#8C9CB8",b="#283447",y=(n.default({light:d,dark:"#1B2638"}),n.default({light:"#DEEBFF",dark:"#B3D4FF"}),n.default({light:"#EBECF0",dark:"#3B475C"}),n.default({light:d,dark:b}),n.default({light:"#091E42",dark:h}),n.default({light:f,dark:h}),n.default({light:u,dark:u}),n.default({light:p,dark:m}),n.default({light:"#7A869A",dark:"#7988A3"}),n.default({light:f,dark:h})),k=n.default({light:p,dark:m}),v=(n.default({light:"#F4F5F7",dark:b}),n.default({light:u,dark:l}),n.default({light:"#0065FF",dark:c}),n.default({light:"#0747A6",dark:l}),n.default({light:l,dark:c}),n.default({light:u,dark:l}),n.default({light:u,dark:l}),n.default({light:"#00B8D9",dark:"#00C7E6"}),n.default({light:"#6554C0",dark:"#998DD9"}),n.default({light:a,dark:a}),n.default({light:s,dark:s}),n.default({light:i,dark:i}),function(){return"rgba(9, 30, 66, 0.04)"})})),r.register("hlhp6",(function(e,o){t(e.exports,"default",(function(){return a}));var n=r("cFgbM");function a(e,t){if("string"==typeof e)return r=e,o=t,function(e){var t=n.default(e);if(e&&e[r]&&o){var a=o[e[r]];if(a&&a[t.mode]){var s=a[t.mode];if(s)return s}}return""};var r,o,a=e;return function(e){var t=n.default(e);if(t.mode in a){var r=a[t.mode];if(r)return r}return""}}})),r.register("cFgbM",(function(e,r){t(e.exports,"default",(function(){return n}));var o=["light","dark"];function n(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&o.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("hCpTL",(function(o,n){t(o.exports,"h700",(function(){return f}));var a=r("l15hj"),s=r("4oNw1"),i=r("jT2UY"),l=r("eC2UO");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function u(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?c(Object(o),!0).forEach((function(r){e(a)(t,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var d=function(e,t){return{fontSize:"".concat(e/l.fontSize(),"em"),fontStyle:"inherit",lineHeight:t/e}},p={size:24,lineHeight:28},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({},d(p.size,p.lineHeight)),{},{color:s.default("color.text.highEmphasis",i.heading(e)),fontWeight:500,letterSpacing:"-0.01em",marginTop:"".concat(5*l.gridSize(),"px")})}})),r.register("lWF4r",(function(e,o){t(e.exports,"PageHeaderWrapper",(function(){return l})),t(e.exports,"PageHeaderColumn",(function(){return c})),t(e.exports,"PageSection",(function(){return u})),t(e.exports,"PanelHeader",(function(){return d}));var n=r("eQkAL"),a=r("6aCAs"),s=r("bIFRd");const i=12*(10*a.gridSize())+"px",l=n.default("header",{target:"e1k2snkw0"})("margin:0 auto;max-width:",(e=>"fluid"===e.layout?"100%":i),";padding:0 ",2.5*a.gridSize(),"px;"),c=n.default("div",{target:"e1k2snkw1"})("margin:0 ",2.5*a.gridSize(),"px;",s.media.upToSmall("\n    margin: 0;\n  "),""),u=n.default("section",{target:"e1k2snkw2"})("margin:0 auto;max-width:",i,";"),d=n.default("h2",{target:"e1k2snkw3"})(a.typography.h400(),";margin:0;display:flex;align-items:center;")})),r.register("cobii",(function(e,o){t(e.exports,"default",(function(){return u}));var n=r("2yydb"),a=r("6tbO4"),s=r("69smv"),i=r("hcxHK"),l=r("1WEHO"),c=r("g5Mlo");var u=n.compose(a.connect((e=>({hasError:e.repository.subscriptions.hasError,isWatchingRepository:e.repository.details.isWatching,repositoryFullSlug:s.getCurrentRepositoryFullSlug(e),settings:e.repository.subscriptions.settings})),(e=>({onFetchRepositorySubscriptions:(t,r)=>e(i.fetchRepositorySubscriptions(t,r)),onToggleRepositoryWatch:t=>{e(l.default(t))}}))))(c.default)})),r.register("1WEHO",(function(e,o){t(e.exports,"default",(function(){return a}));var n=r("hcxHK"),a=e=>({type:n.TOGGLE_REPOSITORY_WATCH.REQUEST,payload:{repositoryFullSlug:e}})})),r.register("g5Mlo",(function(o,n){t(o.exports,"default",(function(){return y}));var a=r("jgze0"),s=r("7HEfz"),i=r("jvqDW"),l=r("35ixb"),c=r("61szk"),u=r("7RIig"),d=r("8eTKm"),p=r("gZ4Uf"),f=r("5RU8C"),g=r("clBu2"),h=r("3rWCD");const m={pullrequests:"labelPullrequests",issues:"labelIssues",commits:"labelCommits",wiki:"labelWiki",forks:"labelForks",commit_status:"labelPipelines"};class b extends c.PureComponent{componentDidMount(){const{onFetchRepositorySubscriptions:e,repositoryFullSlug:t}=this.props;t&&e(t)}componentDidUpdate(e){const{onFetchRepositorySubscriptions:t,repositoryFullSlug:r}=this.props;r&&r!==e.repositoryFullSlug&&t(r)}render(){if(!this.props.settings)return null;const{hasError:t,isWatchingRepository:r,onFetchRepositorySubscriptions:o,onToggleRepositoryWatch:n,onCloseSubscriptionsDialog:i,repositoryFullSlug:m,settings:b}=this.props,{has_commit_statuses:y,has_issues:k,has_repo:v,has_wiki:C}=b,E=e(c).createElement(u.FormattedMessage,h.default[r?"headingWatching":"headingNotWatching"]),x=()=>e(c).createElement(s.default,{onClick:()=>{p.publishUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"watchRepositoryButton",source:"repositorySubscriptionsModal",attributes:{item:r?"unwatchRepository":"watchRepository"}}),n(m)},"aria-pressed":r},e(c).createElement(u.FormattedMessage,h.default[r?"buttonUnwatchRepository":"buttonWatchRepository"])),S=()=>e(c).createElement(c.Fragment,null,e(c).createElement("p",null,e(c).createElement(u.FormattedMessage,e(a)({tagName:"strong"},h.default.headingSettingsList))),v&&this.renderCheckbox("pullrequests"),k&&this.renderCheckbox("issues"),v&&this.renderCheckbox("commits"),C&&this.renderCheckbox("wiki"),v&&this.renderCheckbox("forks"),v&&y&&this.renderCheckbox("commit_status")),M=()=>e(c).createElement(d.ErrorState,{description:e(c).createElement(u.FormattedMessage,e(a)({tagName:"p"},h.default.errorDescription)),onClick:()=>o(m)});return e(c).createElement(l.default,{autoFocus:!1,heading:E,footer:()=>e(c).createElement(l.ModalFooter,null,e(c).createElement(s.default,{appearance:"link",href:g.default.ui.notifications,onClick:()=>p.publishUiEvent({action:"clicked",actionSubject:"link",actionSubjectId:"manageAllSubscriptionsLink",source:"repositorySubscriptionsModal",attributes:{item:"manageAllSubscriptions"}})},e(c).createElement(u.FormattedMessage,h.default.actionManageNotifications)),e(c).createElement(s.default,{appearance:"subtle",onClick:i},e(c).createElement(u.FormattedMessage,f.commonMessages.close))),width:"small"},e(c).createElement(x,null),t?e(c).createElement(M,null):e(c).createElement(S,null))}constructor(...t){super(...t),this.handleOnCheckboxChange=e=>{if(!e.currentTarget)return;const{onFetchRepositorySubscriptions:t,repositoryFullSlug:r,settings:o}=this.props,{checked:n,value:a}=e.currentTarget;t(r,{...o,[a]:n})},this.renderCheckbox=t=>{const{intl:r,isWatchingRepository:o,settings:n}=this.props,a=m[t];return e(c).createElement(i.Checkbox,{isChecked:n[t],isDisabled:!o,label:r.formatMessage(h.default[a]),onChange:this.handleOnCheckboxChange,value:t})}}}var y=u.injectIntl(b)})),r.register("3rWCD",(function(e,o){t(e.exports,"default",(function(){return n}));var n=r("7RIig").defineMessages({headingWatching:{id:"frontbucket.repository.subscriptionsDialog.headingWatching",defaultMessage:"You are watching this repository"},headingNotWatching:{id:"frontbucket.repository.subscriptionsDialog.headingNotWatching",defaultMessage:"You are not watching this repository"},actionManageNotifications:{id:"frontbucket.repository.subscriptionsDialog.actionManageNotifications",defaultMessage:"Manage all notifications"},buttonWatchRepository:{id:"frontbucket.repository.subscriptionsDialog.buttonWatchRepository",defaultMessage:"Watch this repository"},buttonUnwatchRepository:{id:"frontbucket.repository.subscriptionsDialog.buttonUnwatchRepository",defaultMessage:"Stop watching"},headingSettingsList:{id:"frontbucket.repository.subscriptionsDialog.headingSettingsList",defaultMessage:"Subscribe to notifications about all"},labelPullrequests:{id:"frontbucket.repository.subscriptionsDialog.labelPullrequests",defaultMessage:"Pull requests"},labelIssues:{id:"frontbucket.repository.subscriptionsDialog.labelIssues",defaultMessage:"Issues"},labelCommits:{id:"frontbucket.repository.subscriptionsDialog.labelCommits",defaultMessage:"Commits"},labelWiki:{id:"frontbucket.repository.subscriptionsDialog.labelWiki",defaultMessage:"Wiki changes"},labelForks:{id:"frontbucket.repository.subscriptionsDialog.labelForks",defaultMessage:"Forks"},labelPipelines:{id:"frontbucket.repository.subscriptionsDialog.labelPipelines",defaultMessage:"Pipelines"},errorHeading:{id:"frontbucket.repository.subscriptionsDialog.errorHeading",defaultMessage:"Something went wrong..."},errorDescription:{id:"frontbucket.repository.subscriptionsDialog.errorDescription",defaultMessage:"We were unable to get your notification settings."},errorAction:{id:"frontbucket.repository.subscriptionsDialog.errorAction",defaultMessage:"Try again"}})})),r.register("gbHYj",(function(o,n){t(o.exports,"default",(function(){return p}));var a=r("jgze0"),s=r("61szk"),i=r("35ixb"),l=r("7RIig"),c=r("5RU8C"),u=r("a5Ypb");class d extends s.Component{render(){const{intl:t,onClose:r,onDownload:o}=this.props,n=e(s).createElement("a",{href:"https://confluence.atlassian.com/x/RjRmMQ",target:"_blank"},t.formatMessage(u.default.lfsLimitationsLink));return e(s).createElement(i.ModalTransition,null,this.props.isOpen&&e(s).createElement(i.default,{actions:[{text:t.formatMessage(u.default.actionDownloadRepository),onClick:o},{text:t.formatMessage(c.commonMessages.cancel),onClick:r}],onClose:r,heading:t.formatMessage(u.default.heading),width:"small"},e(s).createElement(l.FormattedMessage,e(a)({tagName:"p"},u.default.downloadWarning)),e(s).createElement(l.FormattedMessage,e(a)({tagName:"p"},u.default.readMore,{values:{link:n}}))))}}var p=l.injectIntl(d)})),r.register("a5Ypb",(function(e,o){t(e.exports,"default",(function(){return n}));var n=r("7RIig").defineMessages({heading:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.heading",defaultMessage:"Download Git LFS repository"},actionDownloadRepository:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.actionDownloadRepository",defaultMessage:"Download"},lfsLimitationsLink:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.lfsLimitationsLink",defaultMessage:"workaround for including Git LFS files"},downloadWarning:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.downloadWarning",defaultMessage:"Currently, Git LFS files are not included when you download an archive of the repository."},readMore:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.readMore",defaultMessage:"Read about the {link} in an archive."}})})),r.register("iilGA",(function(e,o){t(e.exports,"DEFAULT_EDITOR_KEY",(function(){return r("kLsgq").DEFAULT_EDITOR_KEY})),t(e.exports,"ConnectFileViewer",(function(){return r("6olZB").default})),t(e.exports,"ConnectFileActions",(function(){return r("4P5lF").default})),t(e.exports,"ConnectFileEditor",(function(){return r("jwOdx").default})),t(e.exports,"ConnectFileModuleMenu",(function(){return r("4thol").default}));r("kLsgq"),r("6olZB"),r("4P5lF"),r("jwOdx"),r("4thol")})),r.register("kLsgq",(function(o,n){t(o.exports,"DEFAULT_EDITOR_KEY",(function(){return u})),t(o.exports,"default",(function(){return d}));var a=r("jgze0"),s=r("61szk"),i=r("7e0vh"),l=r("8CuNm"),c=r("dEkuz");const u="$default";class d extends s.PureComponent{render(){const{source:t,hash:r,height:o,path:n,principalId:u,repositoryFullSlug:d,...p}=this.props;if(!u||!d||!r)return null;const[f,g]=d.split("/"),h=[{target:l.commitFileTarget({path:n,hash:r,repositoryOwner:f,repositorySlug:g}),modules:[{moduleType:"fileEditors"},{moduleType:"generalPages"}]}];return e(s).createElement(i.FileEditor,e(a)({},p,{defaultStyles:{display:"block",height:o},loadingFailedComponent:c.default,principalId:u,source:t,query:h}))}}})),r.register("dEkuz",(function(o,n){t(o.exports,"default",(function(){return p}));var a=r("jgze0"),s=r("61szk"),i=r("7RIig"),l=r("lCbJB"),c=r("6aCAs"),u=r("8mHRH"),d=r("clxpk");class p extends s.PureComponent{render(){const{addonKey:t}=this.props;return e(s).createElement(u.Wrapper,null,e(s).createElement(u.Header,null,e(s).createElement(e(l),{primaryColor:c.colors.R300,label:""}),e(s).createElement(u.Title,null,e(s).createElement(i.FormattedMessage,d.default.connectLoadingErrorTitle))),e(s).createElement(u.Description,null,e(s).createElement(i.FormattedMessage,e(a)({},d.default.connectLoadingErrorDescription,{values:{appName:t}}))))}}})),r.register("lCbJB",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o,n=(o=r("61szk"))&&o.__esModule?o:{default:o},a=r("050F7");const s=e=>n.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13.485 11.929l2.122-2.121a1 1 0 00-1.415-1.415l-2.12 2.122L9.95 8.393a1 1 0 00-1.414 1.415l2.12 2.12-2.12 2.122a1 1 0 001.414 1.414l2.121-2.12 2.121 2.12a1 1 0 101.415-1.414l-2.122-2.121zM12 20a8 8 0 110-16 8 8 0 010 16z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="EditorErrorIcon";var i=s;e.exports.default=i})),r.register("8mHRH",(function(e,o){t(e.exports,"Wrapper",(function(){return s})),t(e.exports,"Header",(function(){return i})),t(e.exports,"Title",(function(){return l})),t(e.exports,"Description",(function(){return c}));var n=r("eQkAL"),a=r("6aCAs");const s=n.default("div",{target:"e6tvwjo0"})("display:flex;flex-direction:column;align-items:center;flex-grow:1;padding:",4*a.gridSize(),"px;"),i=n.default("div",{target:"e6tvwjo1"})(a.typography.h400(),";align-items:center;display:flex;"),l=n.default("div",{target:"e6tvwjo2"})("margin-left:",a.gridSize(),"px;"),c=n.default("p",{target:"e6tvwjo3"})("color:",a.colors.N500,";")})),r.register("clxpk",(function(e,o){t(e.exports,"default",(function(){return n}));var n=r("7RIig").defineMessages({connectLoadingErrorTitle:{id:"frontbucket.repository.source.connect.loadingErrorTitle",defaultMessage:"Your app failed to load"},connectLoadingErrorDescription:{id:"frontbucket.repository.source.connect.loadingErrorDescription",defaultMessage:"Something went wrong when we tried to load the app {appName}."}})})),r.register("6olZB",(function(o,n){t(o.exports,"default",(function(){return g}));var a=r("61szk"),s=r("6tbO4"),i=r("iOvKa"),l=r("hp8zO"),c=r("jA4so"),u=r("69smv"),d=r("hTK5T"),p=r("bCV9T");class f extends a.PureComponent{render(){const{hash:t,height:r,principalId:o,repository:n,viewer:s}=this.props;if(!o||!n||!t)return null;const{params:i}=this.props.match;if(!i.path)return null;const l=c.safeDecodePath(i.path||""),[u,d]=n.full_name.split("/");return e(a).createElement(p.FileViewer,{height:r,principalId:o,repositoryOwner:u,repositorySlug:d,path:l,hash:t,viewer:s})}}var g=i.withRouter(s.connect((e=>({principalId:d.getTargetUserKey(e),repository:u.getCurrentRepository(e),hash:l.get(e,"repository.source.section.hash")})))(f))})),r.register("bCV9T",(function(o,n){t(o.exports,"FileViewer",(function(){return c}));var a=r("61szk"),s=r("7e0vh"),i=r("8CuNm"),l=r("dEkuz");class c extends a.PureComponent{render(){const{hash:t,height:r,path:o,principalId:n,repositoryOwner:c,repositorySlug:u,viewer:d}=this.props;return e(a).createElement(s.ConnectIframe,{defaultStyles:{height:r,width:"100%"},moduleType:"fileViews",principalId:n,target:i.commitFileTarget({path:o,hash:t,repositoryOwner:c,repositorySlug:u}),moduleKey:d,loadingFailedComponent:l.default})}}})),r.register("4P5lF",(function(o,n){t(o.exports,"default",(function(){return d}));var a=r("61szk"),s=r("6tbO4"),i=r("69smv"),l=r("hTK5T"),c=r("zLWOz");class u extends a.PureComponent{render(){const{principalId:t,repository:r,hash:o,sourceObject:n}=this.props;if(!t||!r||!o||!n||n.isLoading)return null;const{path:s}=n,[i,l]=r.full_name.split("/");return e(a).createElement(c.FileActions,{principalId:t,repositoryOwner:i,repositorySlug:l,path:s,hash:o})}}var d=s.connect((e=>({principalId:l.getTargetUserKey(e),repository:i.getCurrentRepository(e),hash:e.repository.source.section.hash,sourceObject:e.repository.source.section.sourceObject})))(u)})),r.register("zLWOz",(function(o,n){t(o.exports,"FileActions",(function(){return c}));var a=r("61szk"),s=r("7e0vh"),i=r("8CuNm"),l=r("cpT2q");class c extends a.PureComponent{render(){const{principalId:t,path:r,hash:o,repositoryOwner:n,repositorySlug:c}=this.props;return e(a).createElement(s.WebItems,{location:"org.bitbucket.source.file.actions",principalId:t,target:i.commitFileTarget({path:r,hash:o,repositoryOwner:n,repositorySlug:c}),component:l.WebItemButton,loadingComponent:()=>null},(t=>e(a).createElement("span",{"data-qa":"connect-source-file-actions"},t)))}}})),r.register("cpT2q",(function(e,o){t(e.exports,"WebItemButton",(function(){return i}));var n=r("eQkAL"),a=r("6aCAs"),s=r("7HEfz");const i=n.default(s.default,{target:"ebsqw0h0"})("margin-right:",a.gridSize(),"px;&:last-child{margin-right:0;}")})),r.register("jwOdx",(function(e,o){t(e.exports,"default",(function(){return l}));var n=r("6tbO4"),a=r("69smv"),s=r("hTK5T"),i=r("kLsgq");var l=n.connect((e=>({hash:e.repository.source.section.hash,principalId:s.getTargetUserKey(e),repositoryFullSlug:a.getCurrentRepositoryFullSlug(e)})))(i.default)})),r.register("4thol",(function(o,n){t(o.exports,"default",(function(){return p}));var a=r("61szk"),s=r("6tbO4"),i=r("hp8zO"),l=r("69smv"),c=r("hTK5T"),u=r("1qpfb");class d extends a.PureComponent{render(){const{moduleKey:t,moduleType:r,principalId:o,repository:n,hash:s,defaultLabel:i,onSelect:l,sourceObject:c}=this.props;if(!o||!n||!s||!c||c.isLoading)return null;const{path:d}=c,[p,f]=n.full_name.split("/");return e(a).createElement(u.FileModuleMenu,{moduleKey:t,moduleType:r,principalId:o,repositoryOwner:p,repositorySlug:f,path:d,hash:s,defaultLabel:i,onSelect:l})}}var p=s.connect((e=>({principalId:c.getTargetUserKey(e),repository:l.getCurrentRepository(e),hash:i.get(e,"repository.source.section.hash"),sourceObject:e.repository.source.section.sourceObject})))(d)})),r.register("1qpfb",(function(o,n){t(o.exports,"FileModuleMenu",(function(){return f}));var a=r("61szk"),s=r("9mjyl"),i=r("jiqGt"),l=r("hp8zO"),c=r("7e0vh"),u=r("8CuNm"),d=r("kLsgq"),p=r("eG1TE");class f extends a.PureComponent{render(){const{defaultLabel:t,hash:r,moduleKey:o,moduleType:n,path:f,principalId:g,repositoryOwner:h,repositorySlug:m}=this.props;return e(a).createElement(c.ConnectModules,{principalId:g,target:u.commitFileTarget({path:f,hash:r,repositoryOwner:h,repositorySlug:m}),moduleType:n},(({modules:r})=>{if(!r.length)return!1;const n=r.find((e=>e.descriptor.key===o));return e(a).createElement(i.default,{position:"bottom right",trigger:n?l.get(n,"descriptor.name.value"):t,triggerButtonProps:{appearance:"subtle"},triggerType:"button"},e(a).createElement(i.DropdownItemGroup,null,e(a).createElement(i.DropdownItem,{onClick:()=>this.props.onSelect(d.DEFAULT_EDITOR_KEY)},e(a).createElement(p.MenuItem,null,e(a).createElement(p.IconWrapper,null,!n&&e(a).createElement(e(s),{size:"small",label:""})),e(a).createElement("span",null,t))),r.map((t=>e(a).createElement(i.DropdownItem,{key:t.id,onClick:()=>this.props.onSelect(t.descriptor.key)},e(a).createElement(p.MenuItem,null,e(a).createElement(p.IconWrapper,null,o===t.descriptor.key&&e(a).createElement(e(s),{size:"small",label:""})),e(a).createElement("span",null,l.get(t,"descriptor.name.value"))))))))}))}}})),r.register("9mjyl",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o,n=(o=r("61szk"))&&o.__esModule?o:{default:o},a=r("050F7");const s=e=>n.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><circle cx="12" cy="12" r="6" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="PresenceActiveIcon";var i=s;e.exports.default=i})),r.register("eG1TE",(function(e,o){t(e.exports,"MenuItem",(function(){return s})),t(e.exports,"IconWrapper",(function(){return i}));var n=r("eQkAL"),a=r("6aCAs");const s=n.default("div",{target:"e1dps1s50"})({name:"k008qs",styles:"display:flex;"}),i=n.default("span",{target:"e1dps1s51"})("width:",3*a.gridSize(),"px;")})),r.register("6KQMh",(function(e,o){t(e.exports,"default",(function(){return i}));var n=r("6tbO4"),a=r("69smv"),s=r("a5qW9");var i=n.connect((e=>{const{section:t}=e.repository.source,r=t.ref?t.ref.name:null;return{repository:a.getCurrentRepository(e),refName:r,hash:e.repository.source.section.hash}}))(s.default)})),r.register("a5qW9",(function(o,n){t(o.exports,"SourceTreeButton",(function(){return h})),t(o.exports,"default",(function(){return m}));var a=r("jgze0"),s=r("7HEfz"),i=r("iDMIj"),l=r("cJOGA"),c=r("61szk"),u=r("7RIig"),d=r("2mU7L"),p=r("criOr"),f=r("3i0UB"),g=r("dyv9P");const h=({refName:t,repository:r,appearance:o})=>{const n=e(c).createElement(u.FormattedMessage,f.default.sourceTreeAction),a=((t,r)=>{if(!r)return"";let o=r;return t&&(o=`refs/heads/${o}`),`sourcetree://checkoutRef?${e(l).stringify({ref:o,cloneUrl:d.getCloneUrl("https",t),type:"bitbucket"})}`})(r,t);return e(c).createElement(g.ButtonGroup,null,e(c).createElement(s.default,{isDisabled:!t,href:a,appearance:o},n))};class m extends c.PureComponent{render(){const{repository:t,refName:r=""}=this.props,{isOpen:o}=this.state,n=e(c).createElement(u.FormattedMessage,f.default.checkoutAction);if(!this.checkOutTarget())return e(c).createElement(s.default,{isDisabled:!0},n);const l=e(c).createElement("div",{style:{textAlign:"left"}},e(c).createElement(u.FormattedMessage,e(a)({},f.default.checkOutBranchHeading,{tagName:"h3"})),e(c).createElement(g.Content,null,e(c).createElement(p.default,{refName:r}),e(c).createElement(h,{refName:r,repository:t})));return e(c).createElement(i.default,{content:l,isOpen:o,onClose:this.handleClose,placement:"bottom-end"},e(c).createElement(s.default,{onClick:this.toggleDialog},n))}constructor(...e){super(...e),this.state={isOpen:!1},this.checkOutTarget=()=>this.props.refName||this.props.hash,this.toggleDialog=()=>{this.setState((e=>({isOpen:!e.isOpen}))),this.props.onClick()},this.handleClose=()=>this.setState({isOpen:!1})}}m.defaultProps={onClick:()=>{}}})),r.register("criOr",(function(o,n){t(o.exports,"default",(function(){return f}));var a=r("61szk"),s=r("7RIig"),i=r("4Rd8x"),l=r("k8VDP"),c=r("6aCAs"),u=r("llPws"),d=r("e1GxE"),p=r("1LYCt");var f=({refName:t})=>{const r=e(a).createElement(s.FormattedMessage,p.default.branchCharacterWarning);return e(a).createElement(e(a).Fragment,null,(e=>null!==e.match(/^[A-Za-z0-9/\-._]+$/))(t)?e(a).createElement(u.CopyableTextFieldStateless,{isReadOnly:!0,value:`git checkout ${t}`}):e(a).createElement(d.WarningCopyWrapper,null,e(a).createElement(i.default,{position:"bottom",content:r},e(a).createElement(d.WarningIconWrapper,null,e(a).createElement(e(l),{label:"malicious-characters-warning",primaryColor:c.colors.Y400}))),e(a).createElement(d.WarningBranchCopyWrapper,null,e(a).createElement(u.CopyableTextFieldStateless,{isReadOnly:!0,value:t}))))}})),r.register("e1GxE",(function(e,o){t(e.exports,"WarningCopyWrapper",(function(){return a})),t(e.exports,"WarningIconWrapper",(function(){return s})),t(e.exports,"WarningBranchCopyWrapper",(function(){return i}));var n=r("eQkAL");const a=n.default("div",{target:"eqs56d50"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),s=n.default("div",{target:"eqs56d51"})({name:"111wug5",styles:"padding-right:8px;"}),i=n.default("div",{target:"eqs56d52"})({name:"8atqhb",styles:"width:100%;"})})),r.register("1LYCt",(function(e,o){t(e.exports,"default",(function(){return n}));var n=r("7RIig").defineMessages({branchCharacterWarning:{id:"frontbucket.repository.pullRequest.branchCharacterWarning",defaultMessage:"This branch name may have unintended effects in a Git command"}})})),r.register("3i0UB",(function(e,o){t(e.exports,"default",(function(){return n}));var n=r("7RIig").defineMessages({checkOutBranchHeading:{id:"frontbucket.repository.source.checkOutBranchHeading",defaultMessage:"Check out branch"},checkoutAction:{id:"frontbucket.repository.source.checkOutAction",defaultMessage:"Check out"},sourceTreeAction:{id:"frontbucket.repository.source.sourceTreeCheckOutAction",defaultMessage:"Check out in SourceTree"},branchCharacterWarning:{id:"frontbucket.repository.source.branchCharacterWarning",defaultMessage:"This branch name may have unintended effects in a Git command"}})})),r.register("dyv9P",(function(e,o){t(e.exports,"Content",(function(){return s})),t(e.exports,"ButtonGroup",(function(){return i}));var n=r("eQkAL"),a=r("6aCAs");const s=n.default("div",{target:"es1vbw0"})("margin:",2*a.gridSize(),"px 0;min-width:400px;"),i=n.default("div",{target:"es1vbw1"})("margin-top:",3*a.gridSize(),"px;")})),r.register("gXYc3",(function(o,n){t(o.exports,"default",(function(){return m}));var a=r("61szk"),s=r("6tbO4"),i=r("7HEfz"),l=r("3GKKo"),c=r("gZ4Uf"),u=r("69smv"),d=r("e98M7"),p=r("hTK5T"),f=r("c7TF8"),g=r("96wjm"),h=r("89Trl");var m=({pipelinesUrl:t})=>{const r=l.useIntl(),o=s.useDispatch(),n=s.useSelector(p.getCurrentUser),m=s.useSelector(u.getIsPipelinesEnabledLoadingState),b=s.useSelector(u.getIsPipelinesEnabled),y=s.useSelector(u.getIsPipelinesPremium),k=s.useSelector(u.getCurrentRepoWorkspaceSlug),{isFetchWorkspacePlanLoading:v}=s.useSelector(d.getWorkspacePlanRequestStatus),{isWorkspacePremium:C,isWorkspacePaid:E}=s.useSelector(d.getWorkspacePlan),x=!C&&!E,S=m===g.PipelinesEnabledLoadingState.Loaded&&!b&&x,M=a.useCallback((()=>c.publishUiEvent({source:"repository",action:"clicked",actionSubject:"button",actionSubjectId:"setUpPipelinesButton",attributes:{pipelinesPremium:y,paidWorkspace:E,premiumWorkspace:C}})),[y,E,C]),w=a.useCallback((()=>{c.publishScreenEvent("setupBuild",{pipelinesPremium:y,paidWorkspace:E,premiumWorkspace:C})}),[y,C,E]);return a.useEffect((()=>{n&&m===g.PipelinesEnabledLoadingState.NotLoaded&&o(f.fetchIsPipelinesEnabled()),k&&v&&o(f.fetchWorkspacePlan(k))}),[o,n,m,v,k]),a.useEffect((()=>{S&&w()}),[S,w]),S?e(a).createElement(i.default,{appearance:"primary",onClick:M,href:t},r.formatMessage(h.default.setUpAction)):null}})),r.register("89Trl",(function(e,o){t(e.exports,"default",(function(){return n}));var n=r("7RIig").defineMessages({setUpAction:{id:"frontbucket.repository.source.setUpAction",defaultMessage:"Set up build"}})})),r.register("9OndI",(function(e,o){t(e.exports,"default",(function(){return n}));var n=r("7RIig").defineMessages({actionsMenu:{id:"frontbucket.repository.source.header.actionsMenu",defaultMessage:"Repository actions"},heading:{id:"frontbucket.repository.source.breadcrumbs.pageBreadcrumb",defaultMessage:"Source"},newFileAction:{id:"frontbucket.repository.source.header.newFileAction",defaultMessage:"Add file"},inviteAction:{id:"frontbucket.repository.source.header.inviteAction",defaultMessage:"Invite"},shareAction:{id:"frontbucket.repository.source.header.shareAction",defaultMessage:"Share repository"},manageNotifications:{id:"frontbucket.repository.source.manageNotifications",defaultMessage:"Manage notifications"},leaveRepoAction:{id:"frontbucket.repository.source.header.leaveRepoAction",defaultMessage:"Leave repository"},downloadRepoAction:{id:"frontbucket.repository.source.header.downloadRepoAction",defaultMessage:"Download repository"},compareRepoAction:{id:"frontbucket.repository.source.header.compareRepoAction",defaultMessage:"Compare branches or tags"},forkRepoAction:{id:"frontbucket.repository.source.header.forkRepoAction",defaultMessage:"Fork this repository"}})})),r.register("8SO2B",(function(o,n){t(o.exports,"default",(function(){return f}));var a=r("2lSIT"),s=r("iAakF"),i=r("6tbO4"),l=r("fGrcC"),c=r("gFE2z"),u=r("hTK5T"),d=r("7tzaM"),p=r("cBbe9");var f=i.connect((t=>{const r=u.getCurrentUser(t),o=r&&r.created_on?r.created_on:null;return{isCollapsed:!c.getIsMobileHeaderActive(t)&&!l.isSourceSidebarOpen(t),expandedWidth:l.getSourceSidebarWidth(t),isNewUser:!!o&&e(a)(e(s)(Date.now()),e(s)(o))<p.NEW_USER_EXPERIMENT_AGE_IN_DAYS}}),(e=>({onResize:t=>e(l.updateSidebarState({isOpen:!t.isCollapsed,width:t.width,sidebarType:"source"})),toggleSidebar:()=>e(l.updateSidebarState({sidebarType:"source"}))})))(d.default)})),r.register("2lSIT",(function(e,t){var o=r("iAakF"),n=r("5QMPw"),a=r("58E30");e.exports=function(e,t){var r=o(e),s=o(t),i=a(r,s),l=Math.abs(n(r,s));return r.setDate(r.getDate()-i*l),i*(l-(a(r,s)===-i))}})),r.register("58E30",(function(e,t){var o=r("iAakF");e.exports=function(e,t){var r=o(e).getTime(),n=o(t).getTime();return r<n?-1:r>n?1:0}})),r.register("7tzaM",(function(o,n){t(o.exports,"default",(function(){return b}));var a=r("61szk"),s=r("irOaf"),i=r("2mhT6"),l=r("866KB"),c=r("5nTh9"),u=r("5spni"),d=r("bpfDh"),p=r("8095X"),f=r("dSJQL"),g=r("6Jbug"),h=r("6roAQ");class m extends a.PureComponent{render(){const t=[],r=[];return this.props.isNewUser&&(t.push({type:s.Cards.NewUser,content:e(a).createElement(h.default,{isCollapsed:!0})}),r.push({type:s.Cards.NewUser,content:e(a).createElement(h.default,null)})),t.push({type:s.Cards.Discovery,content:e(a).createElement(l.default,{isCollapsed:!0})},{type:s.Cards.SourceDetails,content:e(a).createElement(f.default,{isCollapsed:!0})},{type:s.Cards.BuildStatus,content:e(a).createElement(d.BuildStatusCard,{isCollapsed:!0})},{type:s.Cards.ConnectSource,content:e(a).createElement(u.ConnectSourceWebCards,{isCollapsed:!0})}),r.push({type:s.Cards.Discovery,content:e(a).createElement(l.default,null)},{type:s.Cards.SourceDetails,content:e(a).createElement(f.default,null)},{type:s.Cards.BuildStatus,content:e(a).createElement(d.BuildStatusCard,null)},{type:s.Cards.ConnectSource,content:e(a).createElement(u.ConnectSourceWebCards,null)},{type:s.Cards.FeedbackButton,content:e(a).createElement(i.default,{feedbackKey:"source-browser"})}),e(a).createElement(p.default,{sidebarType:"source",toggleSidebar:this.props.toggleSidebar},e(a).createElement(g.default,null,e(a).createElement(c.default,{collapsedContent:t,expandedContent:r,isCollapsed:!!this.props.isCollapsed,onResize:this.props.onResize,expandedWidth:this.props.expandedWidth})))}}m.defaultProps={isCollapsed:!1};var b=m})),r.register("866KB",(function(o,n){t(o.exports,"default",(function(){return y}));var a=r("61szk"),s=r("7RIig"),i=r("6tbO4"),l=r("ewpu1"),c=r("gZ4Uf"),u=r("69smv"),d=r("hTK5T"),p=r("5VJjf"),f=r("gqo0z"),g=r("gEGQx"),h=r("kSt4f");class m extends a.PureComponent{componentDidMount(){const{isOwner:e,isCollapsed:t,userUuid:r}=this.props;!t&&e&&r&&h.shouldDisplayCard(r)&&(c.publishFact(new p.DiscoveryCardView),c.publishScreenEvent("discovery-card-view"))}render(){const{isSpotlightActive:t,isCardDismissed:r}=this.state,{intl:o,isCardEnabled:n,isCollapsed:s,isOwner:i,userUuid:c}=this.props;if(!n)return null;if(i){if(t&&r)return e(a).createElement(l.Spotlight,{actions:[{onClick:()=>this.handleDismiss(),text:o.formatMessage(g.default.ok)}],dialogPlacement:"left bottom",dialogWidth:240,key:"navigation-account-menu",target:"navigation-account-menu",targetRadius:24},e(a).createElement("p",null,o.formatMessage(g.default.spotlightMessage),e(a).createElement("strong",null,o.formatMessage(g.default.integrations)),"."));if(!r&&c&&h.shouldDisplayCard(c))return e(a).createElement(f.default,{isCollapsed:s,handleClose:this.handleClose,toggleCollapse:this.toggleCollapse})}return null}constructor(...e){super(...e),this.state={isSpotlightActive:!1,isCardDismissed:!1},this.handleClose=()=>{const{userUuid:e}=this.props;e&&h.dismissCard(e),this.setState({isSpotlightActive:!0,isCardDismissed:!0}),c.publishFact(new p.DiscoveryCardClosed),c.publishUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"discoveryCardCloseButton",source:"discoveryCard"})},this.handleDismiss=()=>{this.setState({isSpotlightActive:!1,isCardDismissed:!0})},this.toggleCollapse=e=>{e?(c.publishFact(new p.DiscoveryCardExpand),c.publishUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"discoveryCardExpandButton",source:"discoveryCard"})):(c.publishFact(new p.DiscoveryCardMinimize),c.publishUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"discoveryCardMinimizeButton",source:"discoveryCard"}))}}}const b=s.injectIntl(m);var y=i.connect((e=>{const t=d.getCurrentUser(e),r=u.getCurrentRepositoryOwner(e);return{isOwner:!(!t||!r)&&t.uuid===r.uuid,isCardEnabled:e.global.features["discovery-card"],userUuid:t?t.uuid:void 0}}))(b)})),r.register("5VJjf",(function(e,o){t(e.exports,"DiscoveryCardView",(function(){return a})),t(e.exports,"DiscoveryCardMinimize",(function(){return s})),t(e.exports,"DiscoveryCardExpand",(function(){return i})),t(e.exports,"DiscoveryCardClosed",(function(){return l})),t(e.exports,"DiscoveryCardBrowseClick",(function(){return c}));var n=r("764NQ");class a extends n.default{constructor(...e){super(...e),this.name="bitbucket.connect.discovery_card.view"}}class s extends n.default{constructor(...e){super(...e),this.name="bitbucket.connect.discovery_card.minimize"}}class i extends n.default{constructor(...e){super(...e),this.name="bitbucket.connect.discovery_card.expand"}}class l extends n.default{constructor(...e){super(...e),this.name="bitbucket.connect.discovery_card.closed"}}class c extends n.default{constructor(...e){super(...e),this.name="bitbucket.connect.discovery_card.click"}}})),r.register("gqo0z",(function(o,n){t(o.exports,"default",(function(){return b}));var a=r("61szk"),s=r("7RIig"),i=r("4Rd8x"),l=r("7HEfz"),c=r("fK778"),u=r("gLHoF"),d=r("gZ4Uf"),p=r("iye20"),f=r("YX1az"),g=r("5VJjf"),h=r("3vNFI"),m=r("gEGQx"),b=s.injectIntl(class extends a.PureComponent{render(){const{intl:t,isCollapsed:r}=this.props,o=e(a).createElement(e(c),{label:""}),n=t.formatMessage(m.default.label);return r?e(a).createElement(i.default,{position:"left",content:n},e(a).createElement(l.default,{appearance:"subtle",iconBefore:o})):e(a).createElement(u.default,{icon:o,label:n,onClose:this.props.handleClose,onChange:this.props.toggleCollapse},e(a).createElement(f.ImageContainer,null,e(a).createElement("img",{alt:n,src:e(h)})),e(a).createElement(f.Description,null,t.formatMessage(m.default.body)),e(a).createElement(f.DividingLine,null),e(a).createElement(f.Link,{href:`${p.default.ui.addonDirectory}?ref=discovery-card`,onClick:()=>{d.publishFact(new g.DiscoveryCardBrowseClick),d.publishUiEvent({action:"clicked",actionSubject:"link",actionSubjectId:"browseAppsLink",source:"discoveryCard"})}},t.formatMessage(m.default.browse)))}})})),r.register("fK778",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o,n=(o=r("61szk"))&&o.__esModule?o:{default:o},a=r("050F7");const s=e=>n.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M5.376 6.455l5.248-3.104c.792-.469 1.963-.467 2.752 0l5.248 3.104C19.416 6.923 20 7.962 20 8.895v6.21c0 .936-.587 1.973-1.376 2.44l-5.248 3.104c-.792.469-1.963.467-2.752 0l-5.248-3.104C4.584 17.077 4 16.038 4 15.105v-6.21c0-.936.587-1.973 1.376-2.44zm6.99-1.314c-.165-.098-.566-.098-.733 0L6.385 8.245c-.166.098-.367.454-.367.65v6.21c0 .195.2.551.367.65l5.248 3.104c.166.098.567.098.734 0l5.248-3.104c.166-.098.367-.454.367-.65v-6.21c0-.195-.2-.551-.367-.65l-5.248-3.104z"/><path d="M12 16a4 4 0 110-8 4 4 0 010 8zm0-2a2 2 0 100-4 2 2 0 000 4z"/></g></svg>'},e));s.displayName="AddonIcon";var i=s;e.exports.default=i})),r.register("gLHoF",(function(o,n){t(o.exports,"default",(function(){return m}));var a,s=r("jiqGt"),i=r("7HEfz"),l=r("ePZvc"),c=r("kci9l"),u=r("6aCAs"),d=r("61szk"),p=r("7bivZ"),f=r("7RIig"),g=r("f2QXn"),h=r("eluz5"),m=f.injectIntl(((a=class extends d.Component{renderHeading(){const{icon:t,label:r,intl:o,isCollapsible:n}=this.props,{isCollapsed:a}=this.state;return e(d).createElement(d.Fragment,null,e(d).createElement(h.Icon,null,t),e(d).createElement(d.Fragment,null,e(d).createElement(h.PanelHeadingLabel,null,r)),n?e(d).createElement(s.default,{triggerType:"button",triggerButtonProps:{appearance:"subtle",iconBefore:e(d).createElement(e(l),{label:""})},shouldFlip:!1,position:"bottom right"},e(d).createElement(s.DropdownItemGroup,null,e(d).createElement(s.DropdownItem,{onClick:this.toggleCollapse},a?o.formatMessage(g.default.expand):o.formatMessage(g.default.minimize)),e(d).createElement(s.DropdownItem,{onClick:this.handleClose},o.formatMessage(g.default.close)))):e(d).createElement(i.default,{iconBefore:e(d).createElement(e(c),{primaryColor:u.colors.N800,label:o.formatMessage(g.default.close)}),appearance:"subtle",spacing:"none",onClick:this.handleClose}))}render(){const{isCollapsed:t}=this.state;return e(d).createElement(h.Panel,{isCollapsed:t},e(d).createElement(h.PanelHeading,{isCollapsed:t},this.renderHeading()),e(d).createElement(e(p),{duration:200,easing:"linear",height:t?0:"auto"},e(d).createElement(h.PanelBody,null,this.props.children)))}constructor(...e){super(...e),this.state={isCollapsed:this.props.defaultCollapsed||!1,isClosed:this.props.defaultClosed||!1},this.toggleCollapse=()=>{const{isCollapsed:e}=this.state;this.props.onChange&&this.props.onChange(e),this.setState((()=>({isCollapsed:!e})))},this.handleClose=()=>{const{isClosed:e}=this.state;e||(this.setState({isClosed:!0}),this.props.onClose&&this.props.onClose())}}}).defaultProps={defaultCollapsed:!1,defaultClosed:!1,isCollapsible:!0},a))})),r.register("f2QXn",(function(e,o){t(e.exports,"default",(function(){return n}));var n=r("7RIig").defineMessages({minimize:{id:"frontbucket.cards.dropdownExpander.minimize",defaultMessage:"Minimize"},expand:{id:"frontbucket.cards.dropdownExpander.expand",defaultMessage:"Expand"},close:{id:"frontbucket.cards.dropdownExpander.close",defaultMessage:"Close"}})})),r.register("YX1az",(function(e,o){t(e.exports,"ImageContainer",(function(){return s})),t(e.exports,"DividingLine",(function(){return i})),t(e.exports,"Link",(function(){return l})),t(e.exports,"Description",(function(){return c}));var n=r("eQkAL"),a=r("6aCAs");n.default("div",{target:"e5czws50"})("& + &{margin-top:",1.5*a.gridSize(),"px;}");const s=n.default("div",{target:"e5czws51"})({name:"170ph2z",styles:"text-align:center;> img{width:120px;}"}),i=n.default("hr",{target:"e5czws52"})("border:none;height:1px;background-color:",a.colors.N40A,";margin:",.5*a.gridSize(),"px;"),l=n.default("a",{target:"e5czws53"})("display:flex;align-items:center;justify-content:center;font-weight:600;padding-top:",.5*a.gridSize(),"px;padding-bottom:",.25*a.gridSize(),"px;"),c=n.default("p",{target:"e5czws54"})("font-weight:normal;padding-left:",.5*a.gridSize(),"px;padding-bottom:",.5*a.gridSize(),"px;")})),r.register("3vNFI",(function(e,t){e.exports=r("a28Ji").getBundleURL("k7CJW")+r("l6272").resolve("hAySI")})),r.register("gEGQx",(function(e,o){t(e.exports,"default",(function(){return n}));var n=r("7RIig").defineMessages({label:{id:"frontbucket.connect.discoveryCardIcon.label",defaultMessage:"Level up with an app"},body:{id:"frontbucket.connect.discoveryCard.body",defaultMessage:"Looking for more features? We've got some powerful apps for Bitbucket - get insights into your code, customize your workflow, and more."},browse:{id:"frontbucket.connect.discoveryCard.browseApps",defaultMessage:"Browse apps"},spotlightMessage:{id:"frontbucket.connect.discoveryCard.spotlightMessage",defaultMessage:"If you want to add or manage apps later, just click your profile picture and choose"},integrations:{id:"frontbucket.connect.discoveryCard.spotlightMessage.integrations",defaultMessage:"Integrations"},ok:{id:"frontbucket.connect.discoveryCard.okButton",defaultMessage:"OK"}})})),r.register("kSt4f",(function(e,o){t(e.exports,"dismissCard",(function(){return s})),t(e.exports,"shouldDisplayCard",(function(){return i}));var n=r("k8zc2");const a=e=>`discoverycard::${e}`;function s(e){n.default.set(a(e),!1)}function i(e){return!1!==n.default.get(a(e))}})),r.register("dSJQL",(function(o,n){t(o.exports,"default",(function(){return h}));var a=r("61szk"),s=r("6tbO4"),i=r("iOvKa"),l=r("jA4so"),c=r("1RSep"),u=r("h1hDP"),d=r("h7IKJ");const p=s.connect((e=>({fileTree:e.repository.source.section.fileTree})))((t=>{const{isCollapsed:r,path:o,fileTree:n}=t;if(n&&n.tree){if(!(o?d.default(n.tree,o):n.tree))return e(a).createElement(c.default,{isCollapsed:r})}return e(a).createElement(u.default,{isCollapsed:r,path:o})})),f=(t,r=!1)=>e(a).createElement(p,{isCollapsed:r,path:l.safeDecodePath(t||"")});class g extends a.PureComponent{render(){const{isCollapsed:t}=this.props;return e(a).createElement(i.Switch,null,e(a).createElement(i.Route,{exact:!0,strict:!0,path:"/:repositoryOwner/:repositorySlug/src/:ref/:path+",render:e=>f(e.match.params.path,t)}),e(a).createElement(i.Route,{path:["/:repositoryOwner/:repositorySlug/diff/:path+","/:repositoryOwner/:repositorySlug/history/:path+","/:repositoryOwner/:repositorySlug/history-node/:ref/:path+"],render:e=>f(e.match.params.path,t)}),e(a).createElement(i.Route,{path:"/:repositoryOwner/:repositorySlug/src/:refOrHash?",render:()=>e(a).createElement(c.default,{isCollapsed:!!t})}))}}g.defaultProps={isCollapsed:!1};var h=i.withRouter(g)})),r.register("1RSep",(function(e,o){t(e.exports,"default",(function(){return c}));var n=r("6tbO4"),a=r("69smv"),s=r("c7TF8"),i=r("8sqWp"),l=r("7Mq5Y");var c=n.connect((e=>({...a.getRepositoryDetails(e),repository:a.getCurrentRepository(e),sizeLimits:a.getSizeLimits(e)})),(e=>({onOpenSyncDialog:()=>e(i.default(!0)),onErrorClick:t=>e(s.default(t))})))(l.default)})),r.register("h1hDP",(function(e,o){t(e.exports,"default",(function(){return s}));var n=r("6tbO4"),a=r("gyhUp");var s=n.connect((e=>{const{hash:t}=e.repository.source.section,{file:r,meta:o,isLoading:n}=e.repository.source.file,a=e.repository.source.srcDirMetadata;let s;if(t&&o){var i,l,c;const e=o.path.split("/"),r=e.slice(0,-1).join("/")||"/",n=e.slice(-1)[0],u=a[`${t}:${r}`];s=(null==u||null===(i=u.data)||void 0===i||null===(l=i[n])||void 0===l||null===(c=l.lastModified)||void 0===c?void 0:c.date)||null}return{file:r,meta:o,isLoading:n,lastUpdated:s}}))(a.default)})),r.register("gyhUp",(function(o,n){t(o.exports,"default",(function(){return g}));var a=r("7NpdE"),s=r("61szk"),i=r("7RIig"),l=r("5G28v"),c=r("hWWYh"),u=r("bpR2V"),d=r("5HZsU"),p=r("lsDRT");class f extends s.PureComponent{renderContent(){const{file:t,meta:r,isLoading:o,lastUpdated:n}=this.props;if(!r||o)return null;const u=r&&r.size?e(a)(r.size,{unitSeparator:" "}):null;let f="";if(r.path){const e=r.path.split("/").pop();e&&([f]=d.default(e))}return e(s).createElement(s.Fragment,null,n&&e(s).createElement(c.Row,null,e(s).createElement(c.Field,{label:e(s).createElement(i.FormattedMessage,p.default.lastUpdatedLabel),value:e(s).createElement(l.RelativeDate,{date:n})})),f&&e(s).createElement(c.Row,null,e(s).createElement(c.Field,{label:e(s).createElement(i.FormattedMessage,p.default.typeLabel),value:f})),e(s).createElement(c.Row,null,t&&e(s).createElement(c.Field,{label:e(s).createElement(i.FormattedMessage,p.default.lineCountLabel),value:t.contents.split("\n").length}),u&&e(s).createElement(c.Field,{label:e(s).createElement(i.FormattedMessage,p.default.sizeLabel),value:u})))}render(){const{intl:t,isCollapsed:r,isLoading:o,meta:n,path:a}=this.props,i=t.formatMessage(p.default.cardLabel),l=a?a.split("/").slice(0,-1).join("/"):null;return e(s).createElement(c.default,{isLoading:!n||o,label:i,isCollapsed:r},e(s).createElement(u.default,{path:l||"/"}),this.renderContent())}}f.defaultProps={isCollapsed:!1};var g=i.injectIntl(f)})),r.register("bpR2V",(function(e,o){t(e.exports,"default",(function(){return u}));var n=r("6tbO4"),a=r("4RyqT"),s=r("69smv"),i=r("ggH3g"),l=r("46jwQ");const c={fetchSrcDirMetadata:i.default};var u=n.connect(((e,t)=>{const{path:r}=t,{srcDirMetadata:o,section:n}=e.repository.source,{hash:i}=n;return{hash:i,srcDirMetadata:i?o[`${i}:${r}`]:null,hasMetadata:!a.shouldDisableDirectoryMetadata(e),repository:s.getCurrentRepository(e)}}),c)(l.default)})),r.register("ggH3g",(function(e,o){t(e.exports,"default",(function(){return l}));var n=r("5z5yM"),a=r("eIict"),s=r("dP3Be");const i=(e,t={})=>fetch(a.default(e)).then((e=>e.ok?e.json():Promise.reject())).then((e=>{const r={};return e.values.forEach((e=>{const t=e.path.split("/");r[t[t.length-1]]={size:e.size,lastModified:e.last_modified}})),e.next?i(e.next,{...t,...r}):{...t,...r}}));var l=(e,t,r)=>o=>{o({type:s.FetchSourceDirMetadata.REQUEST,payload:{ref:t,path:r}});const a=n.default.api.internal.sourceWithMetadata(e.full_name,t,r);i(a).then((e=>{o({type:s.FetchSourceDirMetadata.SUCCESS,payload:{ref:t,path:r,srcDirMetadata:e}})}),(()=>{o({type:s.FetchSourceDirMetadata.ERROR,error:!0})}))}})),r.register("46jwQ",(function(e,o){t(e.exports,"default",(function(){return a}));var n=r("61szk");class a extends n.PureComponent{componentDidMount(){this.fetchSrcDirMetadata()}componentDidUpdate(e){const{hash:t,path:r,repository:o}=this.props;t===e.hash&&r===e.path&&(!o||e.repository&&o.uuid===e.repository.uuid)||this.fetchSrcDirMetadata()}fetchSrcDirMetadata(){if(!this.props.hasMetadata)return;const{hash:e,srcDirMetadata:t,path:r,repository:o}=this.props;e&&r&&o&&(!t||!t.isLoading&&!t.data)&&this.props.fetchSrcDirMetadata(o,e,r||"/")}render(){return this.props.children||null}}})),r.register("5HZsU",(function(e,r){t(e.exports,"default",(function(){return a}));const o={abap:["ABAP"],ada:["Ada"],adb:["Ada"],ads:["Ada"],applescript:["AppleScript"],as:["ActionScript"],asax:["aspx-cs"],ascx:["aspx-cs"],ashx:["aspx-cs"],asm:["NASM"],asmx:["aspx-cs"],aspx:["aspx-cs"],asy:["Asymptote"],au3:["AutoIt"],aux:["TeX"],axd:["aspx-cs"],b:["Brainfuck"],bas:["VB.net"],bash:["Shell"],bat:["Batchfile"],befunge:["Befunge"],bf:["Brainfuck"],boo:["Boo"],c:["C"],"c++":["C++"],"c++-objdump":["C++Objdump"],cc:["C++"],ceylon:["Ceylon"],cfc:["Coldfusion HTML"],cfg:["INI"],cfm:["Coldfusion HTML"],cfml:["Coldfusion HTML"],cfs:["Coldfusion"],cl:["Common Lisp"],clj:["Clojure"],cls:["Apex"],cmake:["CMake"],cmd:["Batchfile"],coffee:["CoffeeScript"],cpp:["C++"],"cpp-objdump":["C++Objdump"],cs:["C#"],csh:["Tcsh"],css:["CSS"],cw:["Redcode"],cxx:["C++"],"cxx-objdump":["C++Objdump"],d:["D"],"d-objdump":["D Objdump"],def:["Modula-2"],di:["D"],diff:["Diff"],dylan:["Dylan"],e:["Euphoria"],ebuild:["Shell"],eclass:["Shell"],el:["Common Lisp"],erl:["Erlang"],"erl-sh":["Erlang"],evoque:["Evoque"],ex:["Elixir"],f:["Fortrain"],f90:["Fortrain"],fan:["Fantom"],feature:["Gherkin"],flx:["Felix"],flxh:["Felix"],frag:["GLSL"],g:["Antlr"],gemspec:["Ruby"],geo:["GLSL"],go:["Go"],h:["C"],"h++":["C++"],haml:["Haml"],hh:["C++"],hhi:["Hack"],hpp:["C++"],hrl:["Erlang"],hs:["Haskell"],htaccess:["ApacheConf"],htm:["HTML"],html:["HTML"],hx:["haXe"],hxx:["C++"],inc:["POVRay"],ini:["INI"],io:["Io"],j:["Objective-J"],java:["Java"],js:["JavaScript"],json:["JSON"],jsp:["Java Server Page"],kid:["Genshi"],ksh:["Shell"],las:["Lasso"],lasso:["Lasso"],lassoapp:["Lasso"],lgt:["Logtalk"],lhs:["Literate Haskell"],lisp:["Common Lisp"],ll:["LLVM"],ls:["LiveScript"],lua:["Lua"],ly:["LilyPond"],m:["Matlab","Objective-C","Octave"],mak:["Makefile"],man:["Groff"],mao:["Mako"],ml:["OCaml"],mli:["OCaml"],mll:["OCaml"],mly:["OCaml"],mo:["Modelica"],mod:["Modula-2"],moo:["MOOCode"],mu:["MuPAD"],mxml:["MXMLl"],myt:["Myghty"],nim:["Nimrod"],ns2:["Newspeak"],objdump:["objdump"],ooc:["Ooc"],pas:["Delphi"],patch:["Diff"],php:["PHP"],php3:["PHP"],php4:["PHP"],php5:["PHP"],phtml:["HTML+PHP"],pl:["Perl","Prolog"],plot:["Gnuplot"],plt:["Gnuplot"],pm:["Perl"],po:["Gettext catalog"],pot:["Gettext catalog"],pov:["POVRay"],pro:["Prolog"],prolog:["Prolog"],properties:["INI"],py:["Python"],pyd:["Cython"],pyi:["Cython"],pyw:["Python"],pyx:["Cython"],r:["REBOL"],r3:["REBOL"],rake:["Ruby"],rb:["Ruby"],rbw:["Ruby"],rbx:["Ruby"],rest:["reStructuredText"],rhtml:["RHTML"],rl:["Ragel"],rout:["RConsole"],rs:["Rust"],rss:["XML"],rst:["reStructuredText"],s:["GAS"],sass:["Sass"],sc:["Python"],scala:["Scala"],scm:["Scheme"],sh:["Shell"],"sh-session":["Shell session"],spt:["Cheetah"],sql:["SQL"],"sqlite3-console":["sqlite3con"],st:["Smalltalk"],tac:["Python"],tcl:["Tcl"],tcsh:["Tcsh"],tex:["TeX"],tgr:["Apex"],tmpl:["Cheetah"],toc:["TeX"],tpl:["Smarty"],ts:["TypeScript"],txt:["Text"],uc:["UnrealScript"],vala:["Vala"],vapi:["Vala"],vert:["GLSL"],vg:["VB.net"],vim:["VimL"],vimrc:["VimL"],weechatlog:["IRC logs"],wsdl:["XML"],xhtml:["HTML"],xml:["XML"],xsd:["XML"],xsl:["XSLT"],xslt:["XSLT"],xtend:["XTend"],yaml:["YAML"]},n={"apache.conf":["ApacheConf"],"apache2.conf":["ApacheConf"],autodelegate:["Myghty"],gnumakefile:["Makefile"],Makefile:["Makefile"],pytb:["Python"],Rakefile:["Ruby"],SConstruct:["Python"],SConscript:["Python"],"squid.conf":["SquidConf"]};function a(e){const t=(e=>{const t=e.split(".");return t.length>1?t.pop():null})(e);return n[e]||(t?o[t]:void 0)||[]}})),r.register("lsDRT",(function(e,o){t(e.exports,"default",(function(){return n}));var n=r("7RIig").defineMessages({cardLabel:{id:"frontbucket.repository.source.sidebar.fileDetailsCard.label",defaultMessage:"File details"},lastUpdatedLabel:{id:"frontbucket.repository.source.file.details.lastUpdatedLabel",defaultMessage:"Last updated"},lineCountLabel:{id:"frontbucket.repository.source.file.details.lineCountLabel",defaultMessage:"Lines"},sizeLabel:{id:"frontbucket.repository.source.file.details.sizeLabel",defaultMessage:"Size"},typeLabel:{id:"frontbucket.repository.source.file.details.typeLabel",defaultMessage:"File type"}})})),r.register("6Jbug",(function(o,n){t(o.exports,"default",(function(){return u}));var a=r("61szk"),s=r("6tbO4"),i=r("69smv"),l=r("5z5yM"),c=r("8S9a0");var u=s.connect((e=>({hash:e.repository.source.section.hash,repository:i.getCurrentRepository(e)})))((({hash:t,repository:r,children:o})=>{let n,s,i;return r&&t&&(i=r.full_name,n=l.default.api.v20.buildStatuses(i,t),s=l.default.api.internal.repositoryMetadataURL(r.full_name)),e(a).createElement(c.BuildStatusProvider,{repositoryFullSlug:i,buildStatusURL:n,repositoryMetadataURL:s},o)}))})),r.register("6roAQ",(function(o,n){t(o.exports,"default",(function(){return m}));var a=r("jgze0"),s=r("61szk"),i=r("iOvKa"),l=r("7RIig"),c=r("hPbhP"),u=r("4Rd8x"),d=r("irOaf"),p=r("5z5yM"),f=r("3nY1v");class g extends s.PureComponent{render(){const t=this.props.intl.formatMessage(f.default.header),r=e(s).createElement(c.BitbucketIcon,{label:t});if(this.props.isCollapsed)return e(s).createElement(u.default,{position:"left",content:t},r);const o={guide:e(s).createElement("a",{href:p.default.external.gettingStarted,target:"_blank"},"getting started guide")};return e(s).createElement(d.Expander,{icon:r,label:t},e(s).createElement("p",null,e(s).createElement(l.FormattedMessage,f.default.intro)),e(s).createElement("p",null,e(s).createElement(l.FormattedMessage,e(a)({},f.default.contents,{values:o}))))}}g.defaultProps={isCollapsed:!1};class h extends s.PureComponent{render(){return e(s).createElement(i.Route,{exact:!0,path:"/:repositoryOwner/:repositorySlug/src/:ref",render:()=>e(s).createElement(g,this.props)})}}var m=i.withRouter(l.injectIntl(h))})),r.register("3nY1v",(function(e,o){t(e.exports,"default",(function(){return n}));var n=r("7RIig").defineMessages({header:{id:"frontbucket.repository.source.sidebar.newUserCard.header",defaultMessage:"Welcome to Bitbucket"},intro:{id:"frontbucket.repository.source.sidebar.newUserCard.intro",defaultMessage:"Congratulations on making it into a repository! Here\u2019s where you store files."},contents:{id:"frontbucket.repository.source.sidebar.newUserCard.contents",defaultMessage:"Whether you were invited or it\u2019s your first one, check out our {guide} for a basic introduction to Bitbucket and repositories."}})})),r.register("E5bKy",(function(e,o){t(e.exports,"default",(function(){return n}));var n=r("7RIig").defineMessages({addRepositoryDescriptionLink:{id:"frontbucket.repository.source.addRepositoryDescriptionLink",defaultMessage:"add a description to your repository"},repositoryDescriptionPlaceholder:{id:"frontbucket.repository.source.repositoryDescriptionPlaceholder",defaultMessage:"Here's where you'll find this repository's source files. To give your users an idea of what they'll find here, {addRepositoryDescriptionLink}."},keyboardShortcutGroup:{id:"frontbucket.repository.source.keyboardShortcutGroup",defaultMessage:"Source browser"}})})),r.register("fxF3m",(function(e,o){t(e.exports,"Page",(function(){return s})),t(e.exports,"RepositoryDescription",(function(){return i})),t(e.exports,"SelectorsHeader",(function(){return l}));var n=r("eQkAL"),a=r("6aCAs");const s=n.default("div",{target:"e1jzw51l0"})("margin-bottom:",3*a.gridSize(),"px;"),i=n.default("p",{target:"e1jzw51l1"})("margin-bottom:",3*a.gridSize(),"px;margin-top:",3*a.gridSize(),"px;"),l=n.default("div",{target:"e1jzw51l2"})("margin-bottom:",3*a.gridSize(),"px;")})),r.register("40CUr",(function(e,o){t(e.exports,"default",(function(){return i}));var n=r("61szk"),a=r("5z5yM"),s=r("eIict");class i extends n.PureComponent{componentDidMount(){this.props.isReadyToFetch&&this.fetchFileHistory()}componentDidUpdate(e){const{path:t,refOrHash:r,repositoryFullSlug:o,isReadyToFetch:n}=this.props;t===e.path&&r===e.refOrHash&&o===e.repositoryFullSlug&&n===e.isReadyToFetch||this.fetchFileHistory({reset:!0})}render(){const{commits:e,hasError:t,isLoading:r,nextUrl:o}=this.state;return this.props.render({commits:e,hasMore:!!o,hasError:t,isLoading:r,loadMore:this.loadMore})}constructor(...e){super(...e),this.getInitialState=()=>({commits:[],hasError:!1,isLoading:!this.props.isReadyToFetch,nextUrl:null}),this.state=this.getInitialState(),this.fetchFileHistory=async(e={})=>{const t=e.reset?this.getInitialState():{};this.setState({...t,isLoading:!0});const r=this.state.nextUrl||a.default.api.v20.fileHistory(this.props.repositoryFullSlug,this.props.refOrHash,this.props.path,this.props.pageLen);try{const t=await fetch(s.default(r));if(!t.ok)throw Error();const o=await t.json();this.setState((t=>({commits:[...e.reset?[]:t.commits,...o.values.map((e=>e.commit))],nextUrl:o.next,hasError:!1,isLoading:!1})))}catch(e){this.setState({hasError:!0,isLoading:!1})}},this.loadMore=()=>{this.fetchFileHistory()}}}i.defaultProps={isReadyToFetch:!0}})),r.register("eDiRz",(function(e,o){t(e.exports,"default",(function(){return i}));var n=r("6tbO4"),a=r("69smv"),s=r("5UM8T");var i=n.connect((e=>({atRef:e.repository.source.section.atRef,currentRef:e.repository.source.section.ref,hash:e.repository.source.section.hash,repository:a.getCurrentRepository(e)})))(s.default)})),r.register("5UM8T",(function(o,n){t(o.exports,"default",(function(){return h}));var a=r("jiqGt"),s=r("61szk"),i=r("7RIig"),l=r("iOvKa"),c=r("b0S7m"),u=r("5z5yM"),d=r("gZ4Uf"),p=r("764NQ"),f=r("jw2vb");class g extends s.PureComponent{render(){const{atRef:t,currentRef:r,hash:o,history:n,mode:i,path:l,repository:c}=this.props;if(!c||!o)return null;const d=t?t.name:void 0,f=r?r.name:void 0,g=d||f||void 0;return e(s).createElement(a.default,{shouldFitContainer:!0,trigger:this.fileModeLabels[i],triggerType:"button"},e(s).createElement(a.DropdownItem,{isHidden:"source"===i,onClick:()=>{this.publishFileAnalyticEvent("source",p.uncurlyUuid(c.uuid),null!=c&&c.workspace?p.uncurlyUuid(c.workspace.uuid):""),n.push(u.default.ui.source(c.full_name,{refOrHash:o,path:l,at:g}))}},this.fileModeLabels.source),e(s).createElement(a.DropdownItem,{isHidden:"diff"===i,onClick:()=>{this.publishFileAnalyticEvent("diff",p.uncurlyUuid(c.uuid),null!=c&&c.workspace?p.uncurlyUuid(c.workspace.uuid):"");const e={destination:o};n.push(u.default.ui.diff(c.full_name,l,e,{at:g}))}},this.fileModeLabels.diff),e(s).createElement(a.DropdownItem,{isHidden:"history"===i,onClick:()=>{this.publishFileAnalyticEvent("history",p.uncurlyUuid(c.uuid),null!=c&&c.workspace?p.uncurlyUuid(c.workspace.uuid):""),n.push(u.default.ui.fileHistory(c.full_name,o,l,{at:g}))}},this.fileModeLabels.history))}constructor(...t){super(...t),this.fileModeLabels={diff:e(s).createElement(i.FormattedMessage,f.default.diffMode),history:e(s).createElement(i.FormattedMessage,f.default.historyMode),source:e(s).createElement(i.FormattedMessage,f.default.sourceMode)},this.publishFileAnalyticEvent=(e,t,r)=>{d.publishFact(new c.SourceFileActionClickedFact({label:e,repository_uuid:t,frontbucket_view:!0})),d.publishUiEvent({source:"file",action:"clicked",actionSubject:"dropdown",actionSubjectId:"fileModeSelector",objectType:"repository",objectId:t,containerType:"workspace",containerId:r,attributes:{label:e,repository_uuid:t,frontbucket_view:!0}})}}}var h=l.withRouter(g)})),r.register("jw2vb",(function(e,o){t(e.exports,"default",(function(){return n}));var n=r("7RIig").defineMessages({diffMode:{id:"frontbucket.repository.source.fileModeSelector.diffMode",defaultMessage:"Diff"},historyMode:{id:"frontbucket.repository.source.fileModeSelector.historyMode",defaultMessage:"History"},sourceMode:{id:"frontbucket.repository.source.fileModeSelector.sourceMode",defaultMessage:"Source"}})})),r.register("lL0rJ",(function(e,o){t(e.exports,"HeaderContainer",(function(){return i}));var n=r("eQkAL"),a=r("6aCAs"),s=r("bIFRd");const i=n.default("div",{target:"e1fwoj8y0"})("align-items:center;display:flex;& > *{margin-right:",a.gridSize(),"px;}",s.media.upToMedium(`\n    flex-wrap: wrap;\n\n      & > * {\n        margin-bottom: ${a.gridSize()}px;\n      }\n  `),";")}))}();
//# sourceMappingURL=shared.8600a014.js.map
