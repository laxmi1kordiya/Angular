!function(){function e(e,t,r,a){Object.defineProperty(e,t,{get:r,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequirecbf3;r.register("5nTh9",(function(t,a){e(t.exports,"default",(function(){return u}));var o=r("6tbO4"),s=r("gFE2z"),n=r("8yKAG"),i=r("fGrcC"),l=r("doaso");var u=o.connect((e=>({isBannerOpen:Boolean(s.getSiteMessageBanner(e))})),(e=>({onCollapsedContentClick:t=>{e(i.updateSidebarState({isOpen:!0,tabIndex:t.tabIndex,sidebarType:"code-review"})),setTimeout((()=>e(n.default({targetId:t.id}))),200)}})))(l.default)})),r.register("doaso",(function(a,o){e(a.exports,"default",(function(){return b}));var s=r("jgze0"),n=r("iA7u9"),i=r("4Rd8x"),l=r("61szk"),u=r("7RIig"),d=r("3BL8f"),c=r("irOaf"),p=r("21It5"),f=r("aQAlF");class g extends l.PureComponent{render(){const{intl:e}=this.props,r=t(l).createElement(i.default,{position:"left",content:e.formatMessage(d.default.expandIconTooltip)},t(l).createElement(t(n),{label:e.formatMessage(d.default.expandIconTooltip)}));return t(l).createElement(f.Container,{"data-qa":"sidebar-container"},t(l).createElement(c.default,t(s)({ariaLabel:e.formatMessage(d.default.sidebarLabel),collapsedWidth:p.SIDEBAR_COLLAPSED_WIDTH,icon:r,minExpandedWidth:p.SIDEBAR_MIN_EXPANDED_WIDTH,maxExpandedWidth:p.SIDEBAR_MAX_EXPANDED_WIDTH,resizable:!0,toggleButtonCollapseLabel:e.formatMessage(d.default.toggleButtonCollapseLabel),toggleButtonExpandLabel:e.formatMessage(d.default.toggleButtonExpandLabel)},this.props)))}}g.defaultProps={expandedWidth:p.SIDEBAR_EXPANDED_WIDTH};var b=u.injectIntl(g)})),r.register("3BL8f",(function(t,a){e(t.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({sidebarLabel:{id:"frontbucket.sidebar.sidebarLabel",defaultMessage:"Sidebar"},expandIconTooltip:{id:"frontbucket.sidebar.expandIconTooltip",defaultMessage:"Click or tap to expand or press the ] (right bracket) key"},toggleButtonExpandLabel:{id:"frontbucket.sidebar.toggleButtonExpandLabel",defaultMessage:"Click or tap to expand the sidebar or press the ] (right bracket) key"},toggleButtonCollapseLabel:{id:"frontbucket.sidebar.toggleButtonCollapseLabel",defaultMessage:"Click or tap to collapse the sidebar or press the ] (right bracket) key"}})})),r.register("aQAlF",(function(t,a){e(t.exports,"Container",(function(){return o}));const o=r("eQkAL").default("div",{target:"e1n2qvzn0"})({name:"7qmfuy",styles:"display:flex;height:100vh;position:sticky;justify-content:flex-end;"})})),r.register("8095X",(function(a,o){e(a.exports,"default",(function(){return d}));var s=r("61szk"),n=r("7RIig"),i=r("ks9C7"),l=r("bkPgH");class u extends s.PureComponent{render(){const{children:e,intl:r,sidebarType:a}=this.props;return t(s).createElement(i.default,{groupId:`${a}-sidebar`,groupTitle:r.formatMessage(l.default.shortcutGroupTitle),shortcuts:this.shortcuts},e)}constructor(...e){super(...e),this.shortcuts=[{id:`toggle-${this.props.sidebarType}-sidebar`,description:this.props.intl.formatMessage(l.default.toggleSidebarShortcut),handler:()=>{this.props.toggleSidebar()},keys:"]"}]}}var d=n.injectIntl(u)})),r.register("bkPgH",(function(t,a){e(t.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({shortcutGroupTitle:{id:"frontbucket.keyboardShortcuts.sidebar.shortcutGroupTitle",defaultMessage:"Sidebar actions"},toggleSidebarShortcut:{id:"frontbucket.keyboardShortcuts.sidebar.toggleSidebarShortcut",defaultMessage:"Expand and collapse sidebar"}})})),r.register("bpfDh",(function(a,o){e(a.exports,"BuildStatusCard",(function(){return C}));var s=r("jgze0"),n=r("61szk"),i=r("7RIig"),l=r("7HEfz"),u=r("7Ktds"),d=r("4Rd8x"),c=r("1CqEx"),p=r("8eTKm"),f=r("8T5Ac"),g=r("ied1z"),b=r("aDzoP"),h=r("5B9fG"),m=r("8S9a0");class x extends n.PureComponent{render(){const{isCollapsed:e,intl:r,buildStatusResult:{isLoading:a}}=this.props,{plain:o,rich:s}=this.renderLabels(),i=t(n).createElement(t(u),{label:""});return e?t(n).createElement(d.default,{position:"left",content:o},t(n).createElement(l.default,{appearance:"subtle",iconBefore:i})):t(n).createElement(f.ConnectedExpander,{localStorageKey:"build.card.collapsed",icon:i,dataTestId:"build-status-card",isLoading:a,label:s,sectionAriaLabel:r.formatMessage(b.default.sectionAriaLabel),headingAriaLabel:o},this.renderExpanderContent())}constructor(...e){super(...e),this.renderLabels=()=>{const{buildStatusResult:{builds:e},intl:r}=this.props,{FAILED:a,SUCCESSFUL:o}=g.getBuildStatuses(e);if(0===e.length){const e=0;return{rich:t(n).createElement(i.FormattedMessage,t(s)({},b.default.zeroBuilds,{values:{formattedCount:t(n).createElement("strong",null,e)}})),plain:r.formatMessage(b.default.zeroBuilds,{formattedCount:e})}}if(a){const o=`${a} of ${e.length}`;return{rich:t(n).createElement(i.FormattedMessage,t(s)({},b.default.failedStatus,{values:{total:e.length,formattedCount:t(n).createElement("strong",null,o)}})),plain:r.formatMessage(b.default.failedStatus,{total:e.length,formattedCount:o})}}const l=`${o} of ${e.length}`;return{rich:t(n).createElement(i.FormattedMessage,t(s)({},b.default.passedStatus,{values:{total:e.length,formattedCount:t(n).createElement("strong",null,l)}})),plain:r.formatMessage(b.default.passedStatus,{total:e.length,formattedCount:l})}},this.renderExpanderContent=()=>{const{builds:e,hasError:r,refetch:a,repositoryFullSlug:o,hasStatuses:s}=this.props.buildStatusResult;return r?t(n).createElement(p.default,{iconType:"warning",title:t(n).createElement(i.FormattedMessage,b.default.errorHeading)},t(n).createElement(l.default,{appearance:"link",onClick:a},t(n).createElement(i.FormattedMessage,b.default.errorAction))):e.length?t(n).createElement(c.BuildSummary,{builds:e}):o&&!s?t(n).createElement(h.default,{repositoryFullSlug:o}):null}}}x.defaultProps={isCollapsed:!1};const C=i.injectIntl(m.withBuildStatus(x))})),r.register("7Ktds",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var a,o=(a=r("61szk"))&&a.__esModule?a:{default:a},s=r("050F7");const n=e=>o.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M8 6.003v2.995a1 1 0 102 0V5.102C10 4.494 9.507 4 8.9 4H5a1 1 0 000 2.003h3z" fill-rule="nonzero"/><path d="M9.428 18.018C7.351 16.989 6 14.807 6 12.37c0-2.266 1.167-4.319 3.02-5.425.48-.286.646-.922.371-1.421a.979.979 0 00-1.364-.386C5.557 6.611 4 9.35 4 12.37c0 3.248 1.802 6.158 4.57 7.529.498.247 1.095.026 1.332-.493.237-.52.025-1.141-.474-1.388z" fill-rule="nonzero"/><path d="M14 15.002v3.896c0 .608.493 1.102 1.1 1.102H19a1 1 0 000-2.003h-3v-2.995a1 1 0 10-2 0z"/><path d="M14.097 4.596c-.237.52-.025 1.14.474 1.387 2.077 1.029 3.428 3.21 3.428 5.647 0 2.266-1.167 4.32-3.021 5.425a1.063 1.063 0 00-.37 1.42c.274.5.885.673 1.364.387 2.47-1.473 4.027-4.212 4.027-7.232 0-3.248-1.802-6.158-4.57-7.528A.957.957 0 0015.002 4a1 1 0 00-.905.596z"/></g></svg>'},e));n.displayName="RefreshIcon";var i=n;e.exports.default=i})),r.register("8T5Ac",(function(a,o){e(a.exports,"ConnectedExpander",(function(){return u}));var s=r("jgze0"),n=r("61szk"),i=r("iIkMN"),l=r("elQ4w");const u=({localStorageKey:e,onChange:r,defaultIsCollapsed:a,...o})=>{const{isCardCollapsed:u,setIsCardCollapsed:d}=l.useIsCardCollapsed({localStorageKey:e,defaultIsCardCollapsed:a}),c=n.useCallback((e=>{void 0!==r&&r(e),d(e)}),[r,d]);return t(n).createElement(i.default,t(s)({isCollapsed:u,onChange:c},o))}})),r.register("elQ4w",(function(t,a){e(t.exports,"useIsCardCollapsed",(function(){return l}));var o=r("61szk"),s=r("6tbO4"),n=r("k8zc2"),i=r("1MJlg");const l=({localStorageKey:e,defaultIsCardCollapsed:t=!1})=>{const r=n.default.get(e,void 0);let a=s.useSelector((t=>i.getIsCardCollapsed(t,e)));void 0===a&&(a=void 0===r?t:r);const l=s.useDispatch(),u=o.useCallback((t=>t.isCollapsed?l(i.collapseCard(e)):l(i.expandCard(e))),[l,e]);return o.useEffect((()=>{n.default.set(e,a)}),[e,a]),o.useEffect((()=>{u({isCollapsed:a})}),[]),{isCardCollapsed:a,setIsCardCollapsed:u}}})),r.register("ied1z",(function(t,r){function a(e){return e.reduce(((e,t)=>(e[t.state]+=1,e)),{FAILED:0,INPROGRESS:0,STOPPED:0,SUCCESSFUL:0})}e(t.exports,"getBuildStatuses",(function(){return a}))})),r.register("aDzoP",(function(t,a){e(t.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({sectionAriaLabel:{id:"repository.buildStatus.sectionAriaLabel",defaultMessage:"Build statuses"},failedStatus:{id:"repository.buildStatus.tooltipFailed",defaultMessage:"{total, plural, one {{formattedCount} build} other {{formattedCount} builds}} failed"},passedStatus:{id:"repository.buildStatus.tooltipSuccess",defaultMessage:"{total, plural, one {{formattedCount} build passed} other {{formattedCount} builds passed}}"},zeroBuilds:{id:"repository.buildStatus.zeroBuilds",defaultMessage:"{formattedCount} builds"},errorHeading:{id:"repository.buildStatus.error.heading",defaultMessage:"Couldn't load builds"},errorAction:{id:"repository.buildStatus.error.action",defaultMessage:"Try again"}})})),r.register("5B9fG",(function(a,o){e(a.exports,"default",(function(){return p}));var s=r("jgze0"),n=r("61szk"),i=r("7RIig"),l=r("clBu2"),u=r("83g6b"),d=r("2zHzA"),c=r("9rvQB");class p extends n.PureComponent{render(){const[e,r]=this.props.repositoryFullSlug.split("/");return t(n).createElement(n.Fragment,null,t(n).createElement(d.PipelinesPromotionIcon,{alt:"Code emerging from a folder, with a green tick implying it's correctly working.",height:"104",src:t(u)}),t(n).createElement(d.PipelinesPromotionRow,null,t(n).createElement(i.FormattedMessage,t(s)({},c.default.promotionLineOne,{values:{bitbucketPipelinesDocumentation:t(n).createElement("a",{target:"_blank",href:"https://confluence.atlassian.com/bitbucket/get-started-with-bitbucket-pipelines-792298921.html"},t(n).createElement(i.FormattedMessage,c.default.promotionPipelinesDocumentationLink))}}))),t(n).createElement(d.PipelinesPromotionRow,null,t(n).createElement(i.FormattedMessage,c.default.promotionLineTwo)),t(n).createElement(d.PipelinesPromotionLink,null,t(n).createElement("a",{href:l.default.ui.pipelines(e,r)},t(n).createElement(i.FormattedMessage,c.default.promotionSetUpBitbucketPipelinesLink))))}}})),r.register("83g6b",(function(e,t){e.exports=r("a28Ji").getBundleURL("a076w")+r("l6272").resolve("29NdS")})),r.register("2zHzA",(function(t,a){e(t.exports,"PipelinesPromotionIcon",(function(){return n})),e(t.exports,"PipelinesPromotionRow",(function(){return i})),e(t.exports,"PipelinesPromotionLink",(function(){return l}));var o=r("eQkAL"),s=r("6aCAs");const n=o.default("img",{target:"e1jexyus0"})({name:"68vl60",styles:"margin:12px auto 22px auto;display:block;height:100px;"}),i=o.default("p",{target:"e1jexyus1"})("margin-bottom:",s.gridSize,";text-align:left;padding:0 ",s.gridSize()/2,"px;"),l=o.default("p",{target:"e1jexyus2"})("margin-top:",2*s.gridSize(),"px;text-align:center;border-top:1px solid ",s.colors.N40A,";padding:",s.gridSize(),"px;")})),r.register("9rvQB",(function(t,a){e(t.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({promotionLineOne:{id:"frontbucket.repository.source.promotionLineOne",defaultMessage:"It looks like you haven\u2019t configured a build tool yet. You can use {bitbucketPipelinesDocumentation} to build, test and deploy your code."},promotionLineTwo:{id:"frontbucket.repository.source.promotionLineTwo",defaultMessage:"Your existing plan already includes build minutes."},promotionSetUpBitbucketPipelinesLink:{id:"frontbucket.repository.source.promotionSetUpBitbucketPipelinesLink",defaultMessage:"Set up a pipeline"},promotionPipelinesDocumentationLink:{id:"frontbucket.repository.source.promotionPipelinesDocumentationLink",defaultMessage:"Bitbucket Pipelines"}})})),r.register("8S9a0",(function(a,o){e(a.exports,"BuildStatusProvider",(function(){return u})),e(a.exports,"useBuildStatus",(function(){return d})),e(a.exports,"withBuildStatus",(function(){return c}));var s=r("jgze0"),n=r("61szk"),i=r("gxCpU");const l=n.createContext(null),u=({repositoryMetadataURL:e,buildStatusURL:r,repositoryFullSlug:a,children:o})=>{const{builds:s,hasStatuses:u,isLoading:d,hasError:c,refetch:p}=(({repositoryMetadataURL:e,buildStatusURL:t})=>{const{data:r,isLoading:a,hasError:o,refetch:s}=i.useAuthRequest({url:e}),{data:l,isLoading:u,hasError:d,fetchData:c,clearData:p}=i.useAuthRequestLazy({url:t}),f=(null==r?void 0:r.has_statuses)||!1,g=(null==l?void 0:l.values)||[],b=d||o,h=u||a;n.useEffect((()=>{f&&c()}),[c,f]);const m=n.useCallback((()=>{s(),p()}),[s,p]);return{builds:g,hasStatuses:f,isLoading:h,hasError:b,refetch:m}})({repositoryMetadataURL:e,buildStatusURL:r}),f=n.useMemo((()=>({builds:s,hasStatuses:u,isLoading:d,hasError:c,refetch:p,repositoryFullSlug:a})),[s,u,d,c,p,a]);return t(n).createElement(l.Provider,{value:f},o)},d=()=>{const e=n.useContext(l);if(null===e)throw new Error("useBuildStatus requires a parent BuildStatusProvider");return e},c=e=>r=>{const a=d();return t(n).createElement(e,t(s)({buildStatusResult:a},r))}})),r.register("gxCpU",(function(t,a){e(t.exports,"useAuthRequestLazy",(function(){return n})),e(t.exports,"useAuthRequest",(function(){return i}));var o=r("61szk"),s=r("eIict");const n=({url:e})=>{const[{data:t,isLoading:r,hasError:a},n]=o.useState({data:null,isLoading:!1,hasError:!1}),i=o.useCallback((()=>{n({isLoading:!1,hasError:!1,data:null})}),[n]);return{data:t,isLoading:r,hasError:a,fetchData:o.useCallback((async()=>{if(!e)return;n({isLoading:!0,hasError:!1,data:null});const t=await fetch(s.default(e));if(t.ok)try{n({isLoading:!1,hasError:!1,data:await t.json()})}catch(e){n({data:null,hasError:!0,isLoading:!1})}else n({data:null,isLoading:!1,hasError:!0})}),[e]),clearData:i}},i=({url:e})=>{const{data:t,isLoading:r,hasError:a,fetchData:s,clearData:i}=n({url:e});o.useEffect((()=>{s()}),[s]);return{data:t,isLoading:r,hasError:a,refetch:o.useCallback((()=>{i(),s()}),[i,s]),clearData:i}}})),r.register("5QMPw",(function(e,t){var a=r("fI5p3");e.exports=function(e,t){var r=a(e),o=a(t),s=r.getTime()-6e4*r.getTimezoneOffset(),n=o.getTime()-6e4*o.getTimezoneOffset();return Math.round((s-n)/864e5)}})),r.register("fI5p3",(function(e,t){var a=r("iAakF");e.exports=function(e){var t=a(e);return t.setHours(0,0,0,0),t}})),r.register("eluz5",(function(t,a){e(t.exports,"dividerColor",(function(){return i})),e(t.exports,"Panel",(function(){return l})),e(t.exports,"PanelHeading",(function(){return u})),e(t.exports,"PanelHeadingLabel",(function(){return d})),e(t.exports,"PanelBody",(function(){return c})),e(t.exports,"Icon",(function(){return p}));var o=r("eQkAL"),s=r("6aCAs");const n=s.colors.N0,i=s.colors.N30,l=o.default("div",{target:"e1spt66r0"})("background-color:",n,";border-radius:",s.borderRadius(),"px;text-align:left;margin:0 ",1.5*s.gridSize(),"px;"),u=o.default("div",{target:"e1spt66r1"})("align-items:center;background-color:",n,";border:none;border-bottom:1px solid ",i,";border-radius:",(({isCollapsed:e})=>e?`${s.borderRadius()}px`:`${s.borderRadius()}px ${s.borderRadius()}px 0 0`),";box-sizing:border-box;cursor:pointer;display:flex;flex-wrap:wrap;height:",5*s.gridSize(),"px;padding:0 ",s.gridSize(),"px;position:sticky;top:0;&:hover,&:focus{box-shadow:",(({isCollapsed:e})=>e?`0 0 0 1px ${s.colors.B200}`:"none"),";}"),d=o.default("span",{target:"e1spt66r2"})({name:"ln1i0q",styles:"flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:500;"}),c=o.default("div",{target:"e1spt66r3"})("border-radius:0 0 ",s.borderRadius(),"px ",s.borderRadius(),"px;flex-flow:column;overflow:hidden;padding:",s.gridSize(),"px;"),p=o.default("span",{target:"e1spt66r4"})({name:"1b5prcp",styles:"display:flex;margin-right:4px;"})})),r.register("cQwU7",(function(t,r){function a(e,t=0){setTimeout((()=>{window.requestAnimationFrame((()=>window.requestAnimationFrame(e)))}),t)}e(t.exports,"default",(function(){return a}))}))}();
//# sourceMappingURL=shared.cff1c840.js.map
