!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequirecbf3;r.register("ks9C7",(function(n,o){t(n.exports,"default",(function(){return d}));var s=r("iaqFW"),i=r("61szk"),u=r("6tbO4"),c=r("hp8zO"),a=r("kopFa"),p=r("gZ4Uf"),l=r("hUjS1");class f extends i.PureComponent{componentDidMount(){this.registerShortcuts()}componentDidUpdate(e){e.shortcuts===this.props.shortcuts&&e.groupId===this.props.groupId||(this.props.unRegisterShortcuts(e.groupId),this.registerShortcuts())}componentWillUnmount(){this.props.unRegisterShortcuts(this.props.groupId)}registerShortcuts(){const e=this.props.shortcuts.map((e=>{const{handler:t,...r}=e;return r}));this.props.registerShortcuts({groupId:this.props.groupId,groupTitle:this.props.groupTitle,groupWeight:this.props.groupWeight,shortcuts:e})}render(){const{children:t,isDisabled:r,requiresFocus:n,shortcuts:o}=this.props,u=((e,t)=>e.reduce(((e,r)=>{const{enableInFormFields:n,id:o,keys:i,throttleWait:u,handler:l}=r,f=(e,r)=>{t||(p.publishFact(new a.KeyboardShortcutFired({shortcut_id:o,trigger_keys:r})),p.publishUiEvent({action:"keyboardShortcutFired",actionSubject:"keyboardShortcut",actionSubjectId:"keyboardShortcut",source:"unknown",attributes:{shortcut_id:o,trigger_keys:r}}),l(e,r))};return{...e,[o]:s.defineShortcut(i,u?c.throttle(f,u):f,!!n)}}),{}))(o,!!r);return e(i).createElement(e(s),{isGlobal:!n,keyBindings:u},t)}}f.defaultProps={requiresFocus:!1,shortcuts:[],isDisabled:!1};var d=u.connect(null,{registerShortcuts:l.registerShortcuts,unRegisterShortcuts:l.unRegisterShortcuts})(f)})),r.register("iaqFW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.defineShortcut=void 0;var n=r("2pcXS");Object.defineProperty(e.exports,"defineShortcut",{enumerable:!0,get:function(){return n.defineShortcut}});var o,s=r("gIemt"),i=(o=s)&&o.__esModule?o:{default:o};e.exports.default=i.default})),r.register("2pcXS",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=function(e){var t=e.sequence,r=e.handler,o=e.whenTyping;return n(t,r,o)},n=function(e,t,r){return{handler:t,sequence:e,whenTyping:!1!==r}};e.exports.defineShortcut=function(e){return e instanceof Object&&void 0===e.length?r(e):n.apply(null,Array.from(arguments))}})),r.register("gIemt",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=a(r("61szk")),i=a(r("hm2s2")),u=a(r("c77ok")),c=a(r("jtVRX"));function a(e){return e&&e.__esModule?e:{default:e}}var p=function(){};var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setRef=r.setRef.bind(r),r.setupKeyBinder=r.setupKeyBinder.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.setupKeyBinder(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.keyBindings,n=t.isGlobal;(!function(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":o(e))||!e||"object"!==(void 0===t?"undefined":o(t))||!t)return!1;var r=Object.keys(e),n=Object.keys(t),s=Object.prototype.hasOwnProperty.bind(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var u=r[i];if(!s(u)||e[u]!==t[u])return!1}return!0}(e.keyBindings,r)||e.isGlobal!==n)&&(this.comboKeyBinder.detach(),this.setupKeyBinder(this.props))}},{key:"componentWillUnmount",value:function(){this.comboKeyBinder.detach()}},{key:"setRef",value:function(e){this.ref=e}},{key:"setupKeyBinder",value:function(e){var t=this,r=e.isGlobal?document.documentElement:this.ref;this.comboKeyBinder=(0,c.default)(new u.default(r)),Object.keys(this.props.keyBindings).forEach((function(e){var r=t.props.keyBindings[e],n=r.sequence,o=t.props,s=o.preventDefault,i=o.stopPropagation,u=r.handler?function(e,t){var r=t.stopPropagation,n=t.preventDefault;return function(t){r&&t.stopPropagation(),n&&t.preventDefault(),e.apply(e,arguments)}}(r.handler,{preventDefault:s,stopPropagation:i}):p;r.whenTyping?t.comboKeyBinder.bindGlobal(n,u):t.comboKeyBinder.bind(n,u)}))}},{key:"render",value:function(){return s.default.createElement("div",{ref:this.setRef,className:this.props.className,id:this.props.id,tabIndex:this.props.tabIndex},this.props.children)}}]),t}(s.default.Component);l.propTypes={children:i.default.node.isRequired,className:i.default.string,keyBindings:i.default.objectOf(i.default.object).isRequired,isGlobal:i.default.bool,id:i.default.string,tabIndex:i.default.number,preventDefault:i.default.bool,stopPropagation:i.default.bool},l.defaultProps={className:null,isGlobal:!1,id:null,keyBindings:{},tabIndex:null,preventDefault:!1,stopPropagation:!1},e.exports.default=l})),r.register("c77ok",(function(e,t){"use strict";e.exports=function(e){var t=this,r=t.constructor;return t.callbacks={},t.directMap={},t.sequenceLevels={},t.resetTimer=null,t.ignoreNextKeyup=!1,t.ignoreNextKeypress=!1,t.nextExpectedAction=!1,t.element=e,t.addEvents(),r.instances.push(t),t},e.exports.prototype.bind=r("lA8Kt"),e.exports.prototype.bindMultiple=r("4tMsx"),e.exports.prototype.unbind=r("7SfAt"),e.exports.prototype.trigger=r("1X1kf"),e.exports.prototype.reset=r("kbC2R"),e.exports.prototype.stopCallback=r("aRmFa"),e.exports.prototype.handleKey=r("kvc98"),e.exports.prototype.addEvents=r("5glH1"),e.exports.prototype.bindSingle=r("864nf"),e.exports.prototype.getKeyInfo=r("04bqM"),e.exports.prototype.pickBestAction=r("6heRS"),e.exports.prototype.getReverseMap=r("9KK2P"),e.exports.prototype.getMatches=r("g3XEp"),e.exports.prototype.resetSequences=r("giqKC"),e.exports.prototype.fireCallback=r("5A9G0"),e.exports.prototype.bindSequence=r("g43ks"),e.exports.prototype.resetSequenceTimer=r("hXhih"),e.exports.prototype.detach=r("io6Hu"),e.exports.instances=[],e.exports.reset=r("9SoRG"),e.exports.REVERSE_MAP=null})),r.register("lA8Kt",(function(e,t){"use strict";e.exports=function(e,t,r){return e=e instanceof Array?e:[e],this.bindMultiple(e,t,r),this}})),r.register("4tMsx",(function(e,t){"use strict";e.exports=function(e,t,r){for(var n=0;n<e.length;++n)this.bindSingle(e[n],t,r)}})),r.register("7SfAt",(function(e,t){"use strict";e.exports=function(e,t){return this.bind(e,(function(){}),t)}})),r.register("1X1kf",(function(e,t){"use strict";e.exports=function(e,t){return this.directMap[e+":"+t]&&this.directMap[e+":"+t]({},e),this}})),r.register("kbC2R",(function(e,t){"use strict";e.exports=function(){return this.callbacks={},this.directMap={},this}})),r.register("aRmFa",(function(e,t){"use strict";e.exports=function(e,t){if((" "+t.className+" ").indexOf(" combokeys ")>-1)return!1;var r=t.tagName.toLowerCase();return"input"===r||"select"===r||"textarea"===r||t.isContentEditable}})),r.register("kvc98",(function(e,t){"use strict";e.exports=function(e,t,n){var o,s,i,u,c=this,a={},p=0,l=!1;for(o=c.getMatches(e,t,n),s=0;s<o.length;++s)o[s].seq&&(p=Math.max(p,o[s].level));for(s=0;s<o.length;++s)if(o[s].seq){if(o[s].level!==p)continue;l=!0,a[o[s].seq]=1,c.fireCallback(o[s].callback,n,o[s].combo,o[s].seq)}else l||c.fireCallback(o[s].callback,n,o[s].combo);u="keypress"===n.type&&c.ignoreNextKeypress,i=r("lAO1C"),n.type!==c.nextExpectedAction||i(e)||u||c.resetSequences(a),c.ignoreNextKeypress=l&&"keydown"===n.type}})),r.register("lAO1C",(function(e,t){"use strict";e.exports=function(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}})),r.register("5glH1",(function(e,t){"use strict";e.exports=function(){var e=this,t=r("7y3tf"),n=e.element;e.eventHandler=r("69ldV").bind(e),t(n,"keypress",e.eventHandler),t(n,"keydown",e.eventHandler),t(n,"keyup",e.eventHandler)}})),r.register("7y3tf",(function(e,t){function r(e,t,r,n){return!e.addEventListener&&(t="on"+t),(e.addEventListener||e.attachEvent).call(e,t,r,n),r}e.exports=r,e.exports.on=r,e.exports.off=function(e,t,r,n){return!e.removeEventListener&&(t="on"+t),(e.removeEventListener||e.detachEvent).call(e,t,r,n),r}})),r.register("69ldV",(function(e,t){"use strict";e.exports=function(e){var t,n=this;"number"!=typeof e.which&&(e.which=e.keyCode);var o=r("5frCk")(e);void 0!==o&&("keyup"!==e.type||n.ignoreNextKeyup!==o?(t=r("5Uyku"),n.handleKey(o,t(e),e)):n.ignoreNextKeyup=!1)}})),r.register("5frCk",(function(e,t){"use strict";e.exports=function(e){var t,n;if(t=r("9YnGF"),n=r("i878N"),"keypress"===e.type){var o=String.fromCharCode(e.which);return e.shiftKey||(o=o.toLowerCase()),o}return void 0!==t[e.which]?t[e.which]:void 0!==n[e.which]?n[e.which]:String.fromCharCode(e.which).toLowerCase()}})),r.register("9YnGF",(function(e,t){"use strict";e.exports={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",173:"minus",187:"plus",189:"minus",224:"meta"};for(var r=1;r<20;++r)e.exports[111+r]="f"+r;for(r=0;r<=9;++r)e.exports[r+96]=r})),r.register("i878N",(function(e,t){"use strict";e.exports={106:"*",107:"plus",109:"minus",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}})),r.register("5Uyku",(function(e,t){"use strict";e.exports=function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}})),r.register("864nf",(function(e,t){"use strict";e.exports=function(e,t,r,n,o){var s=this;s.directMap[e+":"+r]=t;var i,u=(e=e.replace(/\s+/g," ")).split(" ");u.length>1?s.bindSequence(e,u,t,r):(i=s.getKeyInfo(e,r),s.callbacks[i.key]=s.callbacks[i.key]||[],s.getMatches(i.key,i.modifiers,{type:i.action},n,e,o),s.callbacks[i.key][n?"unshift":"push"]({callback:t,modifiers:i.modifiers,action:i.action,seq:n,level:o,combo:e}))}})),r.register("04bqM",(function(e,t){"use strict";e.exports=function(e,t){var n,o,s,i,u,c,a=[];for(n=r("hfXHl")(e),i=r("8Nr7T"),u=r("aiKPB"),c=r("lAO1C"),s=0;s<n.length;++s)i[o=n[s]]&&(o=i[o]),t&&"keypress"!==t&&u[o]&&(o=u[o],a.push("shift")),c(o)&&a.push(o);return{key:o,modifiers:a,action:t=this.pickBestAction(o,a,t)}}})),r.register("hfXHl",(function(e,t){"use strict";e.exports=function(e){return"+"===e?["+"]:e.split("+")}})),r.register("8Nr7T",(function(e,t){"use strict";e.exports={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"}})),r.register("aiKPB",(function(e,t){"use strict";e.exports={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"}})),r.register("6heRS",(function(e,t){"use strict";e.exports=function(e,t,r){return r||(r=this.getReverseMap()[e]?"keydown":"keypress"),"keypress"===r&&t.length&&(r="keydown"),r}})),r.register("9KK2P",(function(e,t){"use strict";e.exports=function(){var e,t=this.constructor;if(!t.REVERSE_MAP)for(var n in t.REVERSE_MAP={},e=r("9YnGF"))n>95&&n<112||e.hasOwnProperty(n)&&(t.REVERSE_MAP[e[n]]=n);return t.REVERSE_MAP}})),r.register("g3XEp",(function(e,t){"use strict";e.exports=function(e,t,n,o,s,i){var u,c,a,p,l=this,f=[],d=n.type;"keypress"!==d||n.code&&"Arrow"===n.code.slice(0,5)||(l.callbacks["any-character"]||[]).forEach((function(e){f.push(e)}));if(!l.callbacks[e])return f;for(a=r("lAO1C"),"keyup"===d&&a(e)&&(t=[e]),u=0;u<l.callbacks[e].length;++u)if(c=l.callbacks[e][u],(o||!c.seq||l.sequenceLevels[c.seq]===c.level)&&d===c.action&&(p=r("hVHdK"),"keypress"===d&&!n.metaKey&&!n.ctrlKey||p(t,c.modifiers))){var h=!o&&c.combo===s,y=o&&c.seq===o&&c.level===i;(h||y)&&l.callbacks[e].splice(u,1),f.push(c)}return f}})),r.register("hVHdK",(function(e,t){"use strict";e.exports=function(e,t){return e.sort().join(",")===t.sort().join(",")}})),r.register("giqKC",(function(e,t){"use strict";e.exports=function(e){var t=this;e=e||{};var r,n=!1;for(r in t.sequenceLevels)e[r]?n=!0:t.sequenceLevels[r]=0;n||(t.nextExpectedAction=!1)}})),r.register("5A9G0",(function(e,t){"use strict";e.exports=function(e,t,n,o){this.stopCallback(t,t.target||t.srcElement,n,o)||!1===e(t,n)&&(r("lily6")(t),r("aV10Z")(t))}})),r.register("lily6",(function(e,t){"use strict";e.exports=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}})),r.register("aV10Z",(function(e,t){"use strict";e.exports=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}})),r.register("g43ks",(function(e,t){"use strict";e.exports=function(e,t,n,o){var s=this;function i(t){return function(){s.nextExpectedAction=t,++s.sequenceLevels[e],s.resetSequenceTimer()}}function u(t){var i;s.fireCallback(n,t,e),"keyup"!==o&&(i=r("5frCk"),s.ignoreNextKeyup=i(t)),setTimeout((function(){s.resetSequences()}),10)}s.sequenceLevels[e]=0;for(var c=0;c<t.length;++c){var a=c+1===t.length?u:i(o||s.getKeyInfo(t[c+1]).action);s.bindSingle(t[c],a,o,e,c)}}})),r.register("hXhih",(function(e,t){"use strict";e.exports=function(){var e=this;clearTimeout(e.resetTimer),e.resetTimer=setTimeout((function(){e.resetSequences()}),1e3)}})),r.register("io6Hu",(function(e,t){var n=r("7y3tf").off;e.exports=function(){var e=this,t=e.element;n(t,"keypress",e.eventHandler),n(t,"keydown",e.eventHandler),n(t,"keyup",e.eventHandler)}})),r.register("9SoRG",(function(e,t){"use strict";e.exports=function(){this.instances.forEach((function(e){e.reset()}))}})),r.register("jtVRX",(function(e,t){"use strict";e.exports=function(e){var t={},r=e.stopCallback,n=e.unbind;return e.stopCallback=function(e,n,o,s){return!t[o]&&!t[s]&&r(e,n,o)},e.bindGlobal=function(e,r,n){if(this.bind(e,r,n),e instanceof Array)for(var o=0;o<e.length;o++)t[e[o]]=!0;else t[e]=!0},e.unbind=function(e,r){if(n.call(this,e,r),e instanceof Array)for(var o=0;o<e.length;o++)t[e[o]]=!1;else t[e]=!1},e}})),r.register("kopFa",(function(e,n){t(e.exports,"KeyboardShortcutFired",(function(){return s}));var o=r("764NQ");class s extends o.default{constructor(...e){super(...e),this.name="bitbucket.keyboard_shortcuts.fired"}}}))}();
//# sourceMappingURL=shared.11ac1d3a.js.map
